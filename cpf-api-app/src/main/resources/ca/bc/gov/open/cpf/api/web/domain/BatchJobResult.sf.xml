<?xml version="1.0" encoding="UTF-8"?>
<beans
  xmlns="http://www.springframework.org/schema/beans"
  xmlns:p="http://www.springframework.org/schema/p"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="
    http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.2.xsd
  "
>
  <bean
    name="/CPF/CPF_BATCH_JOB_RESULTS-htmlbuilder"
    class="ca.bc.gov.open.cpf.api.web.builder.BatchJobResultUiBuilder"
    p:batchJobService-ref="batchJobService"
  >
    <property name="pages">
      <list>
        <bean
          p:name="moduleAppJobList"
          class="com.revolsys.ui.web.config.Page"
          p:title="Result Files"
          p:path="/admin/modules/{moduleName}/apps/{businessApplicationName}/jobs/{batchJobId}/results/" />
        <bean
          p:name="download"
          class="com.revolsys.ui.web.config.Page"
          p:path="/admin/modules/{moduleName}/apps/{businessApplicationName}/jobs/{batchJobId}/results/{sequenceNumber}/download" />
        <bean
          p:name="clientList"
          class="com.revolsys.ui.web.config.Page"
          p:title="Results"
          p:path="/ws/jobs/{batchJobId}/results/" />
        <bean
          p:name="clientView"
          class="com.revolsys.ui.web.config.Page"
          p:path="/ws/jobs/{batchJobId}/results/{sequenceNumber}/" />
      </list>
    </property>

    <property name="labels">
      <map>
        <entry
          key="SEQUENCE_NUMBER"
          value="#" />
        <entry
          key="BATCH_JOB_RESULT_TYPE"
          value="Result Type" />
        <entry
          key="RESULT_DATA_CONTENT_TYPE"
          value="Content Type" />
      </map>
    </property>

    <property name="serializers">
      <list>
        <bean
          p:name="DOWNLOAD_TIMESTAMP"
          p:label="Download Time"
          class="com.revolsys.ui.html.serializer.key.DateFormatKeySerializer" />
        <bean
          p:name="download"
          class="com.revolsys.ui.html.serializer.key.ActionFormKeySerializer"
          p:label="Download"
          p:cssClass="ui-auto-button-disk"
          p:target="_top" />
        <bean
          p:name="WHEN_CREATED"
          p:label="Creation Time"
          class="com.revolsys.ui.html.serializer.key.DateFormatKeySerializer" />
      </list>
    </property>
    <property name="views">
      <map>
        <entry key="moduleAppJobList">
          <list>
            <value>SEQUENCE_NUMBER</value>
            <value>BATCH_JOB_RESULT_TYPE</value>
            <value>RESULT_DATA_CONTENT_TYPE</value>
            <value>expiryDate</value>
            <value>download</value>
            <value>WHEN_CREATED</value>
            <value>DOWNLOAD_TIMESTAMP</value>
          </list>
        </entry>
        <entry key="clientList">
          <list>
            <value>SEQUENCE_NUMBER</value>
            <value>BATCH_JOB_RESULT_TYPE</value>
            <value>RESULT_DATA_CONTENT_TYPE</value>
            <value>expiryDate</value>
            <bean
              p:name="clientView"
              class="com.revolsys.ui.html.serializer.key.ActionFormKeySerializer"
              p:label="Download"
              p:cssClass="ui-auto-button-disk"
              p:target="_top" />
          </list>
        </entry>
      </map>
    </property>
  </bean>
</beans>