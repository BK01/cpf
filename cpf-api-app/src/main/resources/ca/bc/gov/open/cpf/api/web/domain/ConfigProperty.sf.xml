<?xml version="1.0" encoding="UTF-8"?>
<beans
  xmlns="http://www.springframework.org/schema/beans"
  xmlns:p="http://www.springframework.org/schema/p"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="
    http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
  "
>

  <bean
    name="/CPF/CPF_CONFIG_PROPERTIES-htmlbuilder"
    class="ca.bc.gov.open.cpf.api.web.builder.ConfigPropertyUiBuilder"
    p:dataStore-ref="cpfDataStore"
  >
    <property name="pages">
      <list>
        <bean
          p:name="list"
          class="com.revolsys.ui.web.config.Page"
          p:title="Config Properties"
          p:path="/admin/configProperties/"
          p:permission="hasRole('ROLE_ADMIN')" />
        <bean
          p:name="view"
          class="com.revolsys.ui.web.config.Page"
          p:title="Config Property {configPropertyId}"
          p:path="/admin/configProperties/{configPropertyId}/" />
        <bean
          p:name="edit"
          class="com.revolsys.ui.web.config.Page"
          p:title="Edit Config Property {configPropertyId}"
          p:path="/admin/configProperties/{configPropertyId}/edit/" />
        <bean
          p:name="delete"
          class="com.revolsys.ui.web.config.Page"
          p:title="Delete Config Property {configPropertyId}"
          p:path="/admin/configProperties/{configPropertyId}/delete/" />
        <bean
          p:name="add"
          class="com.revolsys.ui.web.config.Page"
          p:title="Add Config Property"
          p:path="/admin/configProperties/add/" />

        <bean
          p:name="moduleList"
          class="com.revolsys.ui.web.config.Page"
          p:title="Module Config Properties"
          p:path="/admin/modules/{moduleName}/configProperties/"
          p:permission="hasRole('ROLE_ADMIN')  or hasRole('ROLE_ADMIN_MODULE_' + #moduleName + '_ADMIN')" />
        <bean
          p:name="moduleView"
          class="com.revolsys.ui.web.config.Page"
          p:title="Module Config Property {configPropertyId}"
          p:path="/admin/modules/{moduleName}/configProperties/{configPropertyId}/" />
        <bean
          p:name="moduleEdit"
          class="com.revolsys.ui.web.config.Page"
          p:title="Module Edit Config Property {configPropertyId}"
          p:path="/admin/modules/{moduleName}/configProperties/{configPropertyId}/edit/" />
        <bean
          p:name="moduleDelete"
          class="com.revolsys.ui.web.config.Page"
          p:title="Module Delete Config Property {configPropertyId}"
          p:path="/admin/modules/{moduleName}/configProperties/{configPropertyId}/delete/" />
        <bean
          p:name="moduleAdd"
          class="com.revolsys.ui.web.config.Page"
          p:title="Module Add Config Property"
          p:path="/admin/modules/{moduleName}/configProperties/add/" />
      </list>
    </property>

    <property name="fields">
      <map>
        <entry key="PROPERTY_VALUE_TYPE">
          <bean
            class="com.revolsys.ui.html.fields.SelectField"
            p:name="PROPERTY_VALUE_TYPE"
            p:required="true"
          >
            <property name="options">
              <map>
                <entry
                  key="string"
                  value="String" />
                <entry
                  key="boolean"
                  value="Boolean" />
                <entry
                  key="long"
                  value="Long" />
                <entry
                  key="int"
                  value="Int" />
                <entry
                  key="double"
                  value="Double" />
                <entry
                  key="float"
                  value="Float" />
                <entry
                  key="short"
                  value="Short" />
                <entry
                  key="byte"
                  value="Byte" />
                <entry
                  key="decimal"
                  value="Big Decimal" />
                <entry
                  key="integer"
                  value="Big Integer" />
                <entry
                  key="QName"
                  value="Qualified name" />
                <entry
                  key="anyURI"
                  value="URI" />
                <entry
                  key="date"
                  value="Date (YYYY-MM-DD)" />
                <entry
                  key="dateTime"
                  value="Date + Time (YYYY-MM-DDTHH:MM:SS)" />
                <entry
                  key="Geometry"
                  value="WKT Geometry" />
                <entry
                  key="Point"
                  value="WKT Point" />
                <entry
                  key="LineString"
                  value="WKT LineString" />
                <entry
                  key="Polygon"
                  value="WKT Polygon" />
                <entry
                  key="GeometryCollection"
                  value="WKT Geometry Collection" />
                <entry
                  key="MultiPoint"
                  value="WKT Multi-Point" />
                <entry
                  key="MultiLineString"
                  value="WKT Multi-LineString" />
                <entry
                  key="MultiPolygon"
                  value="WKT Multi-Polygon" />
              </map>
            </property>
          </bean>
        </entry>
        <entry key="ENVIRONMENT_NAME">
          <bean
            class="com.revolsys.ui.html.fields.TextField"
            p:name="ENVIRONMENT_NAME"
            p:required="true"
            p:size="70"
            p:maxLength="255" />
        </entry>
        <entry key="MODULE_NAME">
          <bean
            class="com.revolsys.ui.html.fields.SelectField"
            p:name="MODULE_NAME"
            p:required="true"
          >
            <property name="options">
              <map>
                <entry
                  key="CPF"
                  value="CPF" />
                <entry
                  key="CPF_WORKER"
                  value="CPF_WORKER" />
              </map>
            </property>
          </bean>
        </entry>
        <entry key="PROPERTY_NAME">
          <bean
            class="com.revolsys.ui.html.fields.TextField"
            p:name="PROPERTY_NAME"
            p:required="true"
            p:size="70"
            p:maxLength="255" />
        </entry>
        <entry key="PROPERTY_VALUE">
          <bean
            class="com.revolsys.ui.html.fields.TextAreaField"
            p:name="PROPERTY_VALUE"
            p:required="true"
            p:cols="70"
            p:rows="5"
            p:maxLength="4000" />
        </entry>
      </map>
    </property>

    <property name="serializers">
      <list>
        <bean
          p:name="CONFIG_PROPERTY_ID_MODULE_VIEW"
          class="com.revolsys.ui.html.serializer.key.PageLinkKeySerializer"
          p:key="CONFIG_PROPERTY_ID"
          p:label="ID"
          p:pageName="moduleView"
          p:width="5%"
        />

        <bean
          p:name="CONFIG_PROPERTY_ID_VIEW"
          class="com.revolsys.ui.html.serializer.key.PageLinkKeySerializer"
          p:key="CONFIG_PROPERTY_ID"
          p:label="ID"
          p:pageName="view"
          p:width="5%"
        />
        <bean
          p:name="ENVIRONMENT_NAME"
          class="com.revolsys.ui.html.serializer.key.StringKeySerializer"
          p:label="Environment Name"
          p:width="10%"
        />
        <bean
          p:name="MODULE_NAME"
          class="com.revolsys.ui.html.serializer.key.StringKeySerializer"
          p:label="Module Name"
           p:width="10%"
        />
       <bean
          p:name="COMPONENT_NAME"
          class="com.revolsys.ui.html.serializer.key.StringKeySerializer"
          p:label="Component Name"
          p:width="15%"
        />
        <bean
          p:name="PROPERTY_NAME"
          class="com.revolsys.ui.html.serializer.key.StringKeySerializer"
          p:label="Property Name"
           p:width="25%"
        />
        <bean
          p:name="PROPERTY_VALUE"
          class="com.revolsys.ui.html.serializer.key.StringKeySerializer"
          p:label="Value"
          p:width="30%"
        />
        <bean
          p:name="PROPERTY_VALUE_TYPE"
          class="com.revolsys.ui.html.serializer.key.StringKeySerializer"
          p:label="Value Type"
          p:width="10%"
        />
        <bean
          p:name="cpfActions"
          class="com.revolsys.ui.html.serializer.key.MultipleKeySerializer"
          p:label="Actions"
          p:width="6%"
        >
          <property name="serializers">
            <list>
              <bean
                class="com.revolsys.ui.html.serializer.key.ActionFormKeySerializer"
                p:name="delete"
                p:label="Delete"
              >
                <property name="parameterNameMap">
                  <map>
                    <entry
                      key="configPropertyId"
                      value="CONFIG_PROPERTY_ID" />
                  </map>
                </property>
              </bean>
            </list>
          </property>
        </bean>
        
        <bean
          p:name="moduleActions"
          class="com.revolsys.ui.html.serializer.key.MultipleKeySerializer"
          p:label="Actions"
          p:width="6%"
        >
          <property name="serializers">
            <list>
              <bean
                class="com.revolsys.ui.html.serializer.key.ActionFormKeySerializer"
                p:name="moduleDelete"
                p:label="Delete"
              >
                <property name="parameterNameMap">
                  <map>
                    <entry
                      key="configPropertyId"
                      value="CONFIG_PROPERTY_ID" />
                  </map>
                </property>
              </bean>
            </list>
          </property>
        </bean>
        <bean
          p:name="WHO_CREATED"
          p:label="Created By"
          class="com.revolsys.ui.html.serializer.key.StringKeySerializer" />
        <bean
          p:name="WHEN_CREATED"
          p:label="Creation Time"
          class="com.revolsys.ui.html.serializer.key.DateFormatKeySerializer" />
        <bean
          p:name="WHO_CREATED"
          p:label="Modified By"
          class="com.revolsys.ui.html.serializer.key.StringKeySerializer" />
        <bean
          p:name="WHEN_UPDATED"
          p:label="Modification Time"
          class="com.revolsys.ui.html.serializer.key.DateFormatKeySerializer" />
      </list>
    </property>

    <property name="listSortOrder">
      <map>
        <entry key="list">
          <list>
            <list>
              <value type="int">1</value>
              <value>asc</value>
            </list>
            <list>
              <value type="int">2</value>
              <value>asc</value>
            </list>
            <list>
              <value type="int">3</value>
              <value>asc</value>
            </list>
            <list>
              <value type="int">4</value>
              <value>asc</value>
            </list>
          </list>
        </entry>
        <entry key="moduleList">
          <list>
            <list>
              <value type="int">1</value>
              <value>asc</value>
            </list>
            <list>
              <value type="int">2</value>
              <value>asc</value>
            </list>
          </list>
        </entry>
      </map>
    </property>
    <property name="views">
      <map>
        <entry key="list">
          <list>
            <value>CONFIG_PROPERTY_ID_VIEW</value>
            <value>ENVIRONMENT_NAME</value>
            <value>MODULE_NAME</value>
            <value>COMPONENT_NAME</value>
            <value>PROPERTY_NAME</value>
            <value>PROPERTY_VALUE</value>
            <value>PROPERTY_VALUE_TYPE</value>
            <value>cpfActions</value>
          </list>
        </entry>
        <entry key="view">
          <list>
            <value>CONFIG_PROPERTY_ID</value>
            <value>ENVIRONMENT_NAME</value>
            <value>MODULE_NAME</value>
            <value>COMPONENT_NAME</value>
            <value>PROPERTY_NAME</value>
            <value>PROPERTY_VALUE</value>
            <value>PROPERTY_VALUE_TYPE</value>
            <value>WHO_CREATED</value>
            <value>WHEN_CREATED</value>
            <value>WHO_UPDATED</value>
            <value>WHEN_UPDATED</value>
            <value>cpfActions</value>
          </list>
        </entry>
        <entry key="moduleList">
          <list>
            <value>CONFIG_PROPERTY_ID_MODULE_VIEW</value>
            <value>ENVIRONMENT_NAME</value>
            <value>PROPERTY_NAME</value>
            <value>PROPERTY_VALUE</value>
            <value>PROPERTY_VALUE_TYPE</value>
            <value>moduleActions</value>
          </list>
        </entry>
        <entry key="moduleView">
          <list>
            <value>CONFIG_PROPERTY_ID</value>
            <value>ENVIRONMENT_NAME</value>
            <value>MODULE_NAME</value>
            <value>COMPONENT_NAME</value>
            <value>PROPERTY_NAME</value>
            <value>PROPERTY_VALUE</value>
            <value>PROPERTY_VALUE_TYPE</value>
            <value>WHO_CREATED</value>
            <value>WHEN_CREATED</value>
            <value>WHO_UPDATED</value>
            <value>WHEN_UPDATED</value>
            <value>moduleActions</value>
          </list>
        </entry>
      </map>
    </property>
    <property name="keyLists">
      <map>
        <entry key="add">
          <list>
            <value>ENVIRONMENT_NAME</value>
            <value>MODULE_NAME</value>
            <value>PROPERTY_NAME</value>
            <value>PROPERTY_VALUE</value>
            <value>PROPERTY_VALUE_TYPE</value>
          </list>
        </entry>
        <entry key="edit">
          <list>
            <value>ENVIRONMENT_NAME</value>
            <value>MODULE_NAME</value>
            <value>PROPERTY_NAME</value>
            <value>PROPERTY_VALUE</value>
            <value>PROPERTY_VALUE_TYPE</value>
          </list>
        </entry>
        <entry key="moduleAdd">
          <list>
            <value>ENVIRONMENT_NAME</value>
            <value>PROPERTY_NAME</value>
            <value>PROPERTY_VALUE</value>
            <value>PROPERTY_VALUE_TYPE</value>
          </list>
        </entry>
        <entry key="moduleEdit">
          <list>
            <value>ENVIRONMENT_NAME</value>
            <value>PROPERTY_NAME</value>
            <value>PROPERTY_VALUE</value>
            <value>PROPERTY_VALUE_TYPE</value>
          </list>
        </entry>
      </map>
    </property>
  </bean>
</beans>
