<?xml version="1.0" encoding="UTF-8" ?>
<beans
  xmlns="http://www.springframework.org/schema/beans"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:p="http://www.springframework.org/schema/p"
  xmlns:context="http://www.springframework.org/schema/context"
  xmlns:util="http://www.springframework.org/schema/util"
  xsi:schemaLocation="
    http://www.springframework.org/schema/beans 
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
    http://www.springframework.org/schema/context 
    http://www.springframework.org/schema/context/spring-context-3.0.xsd
    http://www.springframework.org/schema/util 
    http://www.springframework.org/schema/util/spring-util-3.0.xsd
  "
>
  <bean
    id="sideMenu"
    class="com.revolsys.ui.model.Menu"
  >
    <property name="menus">
      <list>
        <bean
          class="com.revolsys.ui.model.Menu"
          p:title="Home"
          p:uri="/ws/" />
        <bean
          class="com.revolsys.ui.model.Menu"
          p:title="Business Applications"
          p:uri="/ws/apps/" />
        <bean
          class="com.revolsys.ui.html.builder.HtmlUiBuilderMenu"
          p:typeName="/CPF/CPF_BATCH_JOBS"
          p:pageName="clientList" />
        <bean
          class="com.revolsys.ui.model.Menu"
          p:title="API (for developers)"
          p:uri="/docs/" />
         <bean
          class="com.revolsys.ui.model.Menu"
          p:title="Logout"
          p:uri="/logout" />
      </list>
    </property>
  </bean>

  <bean
    id="footerMenu"
    class="com.revolsys.ui.model.Menu"
  >
  </bean>

  <util:list id="cpfJavaScriptUrls">
    <value>https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js</value>
    <value>https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js</value>
    <value>https://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/jquery.dataTables.min.js
    </value>
    <value>https://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js
    </value>
    <value>/js/rs.js</value>
    <value>/js/admin.js</value>
    <value>/js/ws.js</value>
  </util:list>
  <util:list id="cpfCssUrls">
    <value>https://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/css/jquery.dataTables_themeroller.css
    </value>
    <value>https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/cupertino/jquery-ui.css
    </value>
    <value>/css/rs.css</value>
    <value>/css/cpf.css</value>
  </util:list>
  <bean
    id="adminSideMenu"
    class="com.revolsys.ui.model.Menu"
  >
    <property name="menus">
      <list>
        <bean
          class="com.revolsys.ui.model.Menu"
          p:title="Home"
          p:uri="/admin/" />
        <bean
          p:typeName="ca.bc.gov.open.cpf.api.scheduler.BusinessApplicationStatistics"
          p:pageName="summary"
          class="com.revolsys.ui.html.builder.HtmlUiBuilderMenu" />
        <bean
          p:typeName="/CPF/CPF_BATCH_JOBS"
          p:pageName="list"
          class="com.revolsys.ui.html.builder.HtmlUiBuilderMenu" />
        <bean
          p:typeName="ca.bc.gov.open.cpf.plugin.impl.module.Module"
          p:pageName="list"
          class="com.revolsys.ui.html.builder.HtmlUiBuilderMenu" />
        <bean
          p:typeName="ca.bc.gov.open.cpf.plugin.impl.BusinessApplication"
          p:pageName="list"
          class="com.revolsys.ui.html.builder.HtmlUiBuilderMenu" />
        <bean
          p:typeName="/CPF/CPF_CONFIG_PROPERTIES"
          p:pageName="list"
          class="com.revolsys.ui.html.builder.HtmlUiBuilderMenu" />
        <bean
          p:typeName="/CPF/CPF_USER_ACCOUNTS"
          p:pageName="list"
          class="com.revolsys.ui.html.builder.HtmlUiBuilderMenu" />
        <bean
          p:typeName="/CPF/CPF_USER_GROUPS"
          p:pageName="groupList"
          class="com.revolsys.ui.html.builder.HtmlUiBuilderMenu" />
        <bean
          p:typeName="ca.bc.gov.open.cpf.api.scheduler.Worker"
          p:pageName="list"
          class="com.revolsys.ui.html.builder.HtmlUiBuilderMenu" />
         <bean
          class="com.revolsys.ui.model.Menu"
          p:title="Logout"
          p:uri="/logout" />
      </list>
    </property>
  </bean>

  <bean
    id="cpfAttributeInterceptor"
    class="com.revolsys.ui.web.interceptor.RequestAttributesInterceptor"
  >
    <property name="pathMatcher">
      <bean class="com.revolsys.ui.web.controller.UriTemplatePathMatcher" />
    </property>
    <property name="attributeMappings">
      <map>
        <entry key="/admin/**">
          <map>
            <entry
              key="sideMenu"
              value-ref="adminSideMenu" />
          </map>
        </entry>
        <entry key="/secure/admin/**">
          <map>
            <entry
              key="sideMenu"
              value-ref="adminSideMenu" />
          </map>
        </entry>
        <entry key="/**">
          <map>
            <entry
              key="httpMessageConverterTemplatePath"
              value="/view/page" />
            <entry
              key="body"
              value="/view/httpMessageConverter" />
            <entry
              key="headerPage"
              value="/WEB-INF/jsp/template/header.jsp" />
            <entry
              key="breadcrumbUrl"
              value="/view/breadcrumb" />
            <entry
              key="title"
              value="Cloud Processing Framework Web Services" />
            <entry
              key="applicationName"
              value="Cloud Processing Framework" />
            <entry key="applicationVersion">
              <bean
                class="com.revolsys.util.ManifestUtil"
                factory-method="getImplementationVersion"
              >
                <constructor-arg value="Cloud Processing Framework Application Java API" />
              </bean>
            </entry>
            <entry
              key="cssUrls"
              value-ref="cpfCssUrls" />
            <entry
              key="javascriptUrls"
              value-ref="cpfJavaScriptUrls" />
            <entry
              key="sideMenu"
              value-ref="sideMenu" />
            <entry
              key="footerMenu"
              value-ref="footerMenu" />
          </map>
        </entry>
      </map>
    </property>
  </bean>
  <bean
    name="/index"
    class="com.revolsys.ui.web.controller.ViewNameController"
    p:viewName="redirect:/ws/" />
  <bean
    name="/view/error"
    class="com.revolsys.ui.web.controller.TemplateController"
    p:viewName="/jsp/template/error" />
  <bean
    name="/view/page"
    class="com.revolsys.ui.web.controller.TemplateController"
    p:viewName="/jsp/template/page" />
  <bean
    name="/ws/js/closeWindow"
    class="com.revolsys.ui.web.controller.TemplateController"
    p:viewName="/jsp/ws/js/closeWindow" />
  <bean
    name="/admin/"
    class="com.revolsys.ui.web.controller.TemplateController"
    p:viewName="/jsp/template/page"
  >
    <property name="attributes">
      <map>
        <entry
          key="body"
          value="/WEB-INF/jsp/admin/index.jsp" />
      </map>
    </property>
  </bean>
</beans>