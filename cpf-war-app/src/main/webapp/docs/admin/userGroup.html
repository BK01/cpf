
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xml:lang="en"><!-- InstanceBegin template="/Templates/DocTemplate.dwt" codeOutsideHTMLIsLocked="false" -->
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=8,IE=9,IE=10,IE=Edge" />
    
    <!-- InstanceBeginEditable name="doctitle" -->
<title>User Groups - Administration - CPF</title>
    <script type="text/javascript">
pageId = 'userGroup';
    </script>
<!-- InstanceEndEditable -->

  <link href="https://code.jquery.com/ui/1.11.2/themes/cupertino/jquery-ui.css" rel="stylesheet" type="text/css" />
  <link href="https://cdn.datatables.net/1.10.4/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css" />
  <link href="https://cdn.datatables.net/scroller/1.2.2/css/dataTables.scroller.css" rel="stylesheet" type="text/css" />
  <link href="/pub/cpf/css/jquery-filestyle.min.css" rel="stylesheet" type="text/css" />
  <link href="../../css/prettify.css" rel="stylesheet" type="text/css" />
  <link href="../../css/rs.css" rel="stylesheet" type="text/css" />
  <link href="../../css/bcgov.css" rel="stylesheet" type="text/css" />
  <link href="../../css/cpf.css" rel="stylesheet" type="text/css" />

  <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
  <script type="text/javascript" src="https://code.jquery.com/ui/1.11.2/jquery-ui.min.js"></script>
  <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.1/jquery.validate.min.js"></script>
  <script type="text/javascript" src="/pub/cpf/js/jquery-filestyle.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.4/js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/scroller/1.2.2/js/dataTables.scroller.min.js"></script>
	<script type="text/javascript" src="../../js/prettify.js"></script>
  <script type="text/javascript" src="../../js/rs.js"></script>
  <script type="text/javascript">
$(document).ready(function() {
  prettyPrint();
  setPageId(pageId);
  createToc();
});
	</script>

<!-- InstanceBeginEditable name="head" -->
<script type="text/javascript">

</script>
    <style type="text/css">
td > ul {
  margin: 0px;
}
    </style>
<!-- InstanceEndEditable -->
  </head>
  <body>
    <div class="body">
      <div class="header">
        <div class="headerContent">
          <div class="title">
            Concurrent Processing Framework - Developer Guide
           </div>
        </div>
      </div>
      <div class="columns_2_2">
        <div class="columns_2_1">
          <div>
            <div class="column_2_1">
              <div class="sideNav">
                <div class="sideMenu">
                  <div class="title"><a href="http://www.gov.bc.ca/" title="B.C. Home">B.C. Home</a></div>
                  <ul>
                    <li><a href="../../ws/">Home</a></li>
                    <li id="overviewMenu"><a href="../../docs/">Overview</a></li>
                    <li id="clientMenu"><a href="../client/">Client Development</a><ul>
                      <li id="clientRestMenu"><a href="../client/rest-api/">Client REST API</a></li>
                      <li id="clientJavaMenu"><a href="../client/java-api/">Client Java API</a></li>
                     <!-- <li id="clientJavaMenu"><a href="../docs/client/javascript-api/">Client JavaScript API</a></li>-->
                    </ul></li>
                    <li id="pluginMenu"><a href="../plugin/">Plug-in Development</a><ul>
                      <li id="pluginOverviewMenu"><a href="../plugin/overview.html">Plug-in Overview</a></li>
                      <li id="pluginProjectMenu"><a href="../plugin/mavenProject.html">Plug-in Maven Project</a></li>
                      <li id="pluginAppMenu"><a href="../plugin/businessApplication.html">Plug-in Business Application Class</a></li>
                      <li id="pluginCustomizationMenu"><a href="../plugin/customization.html">Plug-in Customization Properties</a></li>
                      <li id="pluginConfigurationMenu"><a href="../plugin/config.html">Plug-in Configuration Properties</a></li>
                      <li id="pluginSecurityMenu"><a href="../plugin/security.html">Plug-in Security</a></li>
                      <li id="pluginTestingMenu"><a href="../plugin/testing.html">Plug-in Testing</a></li>
                      <li id="pluginJavaMenu"><a href="../plugin/java-api/" title="Plug-in Java API">Plug-in Java API</a></li>
                    </ul></li>
                    <li id="installMenu"><a href="../install/">Installation</a><ul>
                      <li id="dbInstallMenu"><a href="../install/database.html">Database Installation</a></li>
                      <li id="webInstallMenu"><a href="../install/webapp.html">Web Application Installation</a></li>
                    </ul></li>
                    <li id="adminMenu"><a href="../admin/">Administration</a><ul>
                      <li id="moduleMenu"><a href="module.html">Modules</a></li>
                      <li id="appMenu"><a href="app.html">Business Applications</a></li>
                      <li id="configPropertyMenu"><a href="configProperty.html">Configuration &amp; Tuning</a></li>
                      <li id="userAccountMenu"><a href="userAccount.html">User Accounts</a></li>
                      <li id="userGroupMenu"><a href="userGroup.html">User Groups</a></li>
                      <li id="userGroupPermissionMenu"><a href="userGroupPermission.html">User Group Permissions</a></li>
                      <li id="jobsMenu"><a href="job.html">Batch Jobs</a></li>
                      <li id="statisticsMenu"><a href="statistics.html">Dashboard Statistics</a></li>
                      <li id="workersMenu"><a href="worker.html">Workers</a></li>
                      <li id="logMenu"><a href="log.html">Log Files &amp; Diagnostics</a></li>
                    </ul></li>
                  </ul>
                  </div>
              </div>
            </div>
            <div class="column_2_2">
              <div class="bodyContainer">
                <div class="breadcrumbs">
                    <div class="breadcrumb">
<ul>
<li><a href="../../ws/">HOME</a></li>
<li><a href="../../docs/">Developer Guide</a></li>
<!-- InstanceBeginEditable name="crumbs" -->
<li><a href="index.html">Administration</a></li>
<li>User Groups</li>
<!-- InstanceEndEditable -->
</ul>
</div>
                  
                </div>
                <div class="bodyContent">
<!-- InstanceBeginEditable name="body" -->
<div class="title">User Groups - Administration</div>

<section>
<h1 id="overview">Overview</h1>

<p>The CPF maintains a table of user groups. The CPF uses user groups to control access to the CPF
admin application and for modules to define the permissions end users have to use the business
applications.</p>

<p class="note">NOTE: The master and worker for a given user may cache user accounts, user groups
and user group permissions for up to 5 minutes. Wait 5 minutes if the user doesn't have the
correct permissions after a change.</p>

<section>
<h2 id="fields">Fields</h2>
<p>The following table summarizes the fields used for user groups.<p>

<div class="simpleDataTable">
<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>User Group Id</td>
      <td>Unique sequence generated primary key for a user group.</td>
    </tr>
    <tr>
      <td>Module Name</td>
      <td>The <a href="#moduleName">module name</a> of the CPF component or plug-in module that the group is owned by.</td>
    </tr>
    <tr>
      <td>User Group Name</td>
      <td><p>The unique name of the user group.</p>
      <ul>
      <li>Must start with [MODULE_NAME]_.</li>
      <li>Must be unique across all user groups.</li>
      <li>Can only contain the characters A-Z, 0-9, and _.</li>
      <li>Automatically converted to upper case.</li>
      </ul></td>
    </tr>
    <tr>
      <td>Description</td>
      <td><p>A human readable description of the purpose of the group.</p></td>
    </tr>
    <tr>
      <td>Active</td>
      <td><p>Boolean flag indicating if the group is active. Setting to false will prevent the group
      from being used to control security policies.</p></td>
    </tr>
  </tbody>
</table>
</div>
</section>

<section>

<h2 id="moduleName">Module Names</h2>

<p>The following table describes the Module Name's that are used for User Groups.</p>

<div class="simpleDataTable">
<table>
  <thead>
    <tr>
      <th>Module Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>GLOBAL</td>
      <td><p>A global user group that can be used across all modules.</p></td>
    </tr>
    <tr>
      <td>ADMIN</td>
      <td><p>Only used for the ADMIN group that defines the users who are global administrators.</p></td>
    </tr>
    <tr>
      <td>WORKER</td>
      <td><p>Only used for the WORKER group that defines the system users who can use the internal web service API.</p></td>
    </tr>
    <tr>
      <td>USER_TYPE</td>
      <td><p>Special groups that define sub classes of users for a specific user account class.
      Users can't be added to these types. Membership of these groups is automatically defined
      by the user account class plugin for each user. It is not possible to get a list of users
      who are members of these groups. Security permissions can however be assigned to these 
      users.</p></td>
    </tr>
    <tr>
      <td>[MODULE_NAME]</td>
      <td><p>Groups can be created for a module. These can then be used to grant permissions to use
      that module. The module groups must start with [MODULE]_ (e.g. TEST_CLIENTS). The Module Name
      in this case is the name of the module.</p></td>
    </tr>
    <tr>
      <td>ADMIN_MODULE_[MODULE_NAME]</td>
      <td><p>For each module a ADMIN_MODULE_[MODULE_NAME]_ADMIN (module administrator) and
      ADMIN_MODULE_[MODULE_NAME]_SECURITY (module security administrator) group are automatically
      created. Users can be added as members of these groups to grant them permission to manage
      the module.</p></td>
    </tr>
  </tbody>
</table>
</div>
</section>

<section>

<h2 id="defaultGroups">Default User Groups</h2>

<p>The following table describes the user groups that are automatically created by the CPF. In
addition to these new GLOBAL and plug-in module specific groups can be created. </p>

<div class="simpleDataTable">
<table>
  <thead>
    <tr>
      <th>Module Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ADMIN</td>
      <td><p>Global administrator users who can manage any aspect of the CPF using the CPF admin app.</p></td>
    </tr>
    <tr>
      <td>SECURITY_ADMIN</td>
      <td><p>Global security administrator users who can manage any security permission using the CPF adm app.</p></td>
    </tr>
    <tr>
      <td>WORKER</td>
      <td><p>Only used for the WORKER group that defines the system users who can use the internal web service API.</p></td>
    </tr>
    <tr>
      <td>USER_TYPE</td>
      <td><p>Special groups that define sub classes of users for a specific user account class.
      Users can't be added to these types. Membership of these groups is automatically defined
      by the user account class plugin for each user. It is not possible to get a list of users
      who are members of these groups. Security permissions can however be assigned to these 
      users.</p></td>
    </tr>
    <tr>
      <td>ADMIN_MODULE_[MODULE_NAME]_ADMIN</td>
      <td><p>For each module a module administrator group is automatically
      created. Users can be added as members of these groups to grant them permission to manage
      the module.</p></td>
    </tr>
    <tr>
      <td>ADMIN_MODULE_[MODULE_NAME]_SECURITY</td>
      <td><p>For each module a module security administrator group id automatically
      created. Users can be added as members of these groups to grant them permission to manage
      the groups and security permissions for a module.</p></td>
    </tr>
  </tbody>
</table>
</div>

</section>
</section>

<section>
<h1 id="groupManagement">User Group Management</h1>

<p>This section describes how to manage user groups and members of those groups.</p>

<section>
<h2 id="userGroupList">User Groups Lists</h2>

<p>The user groups pages contain a scrolling table of the user groups. The contents of this 
table can be filtered by typing at least 3 characters in search box. The table will show user groups where
the user group name, module name, description contain those characters (ignoring case).</p>

<section>
<h3 id="userGroupListAll">All User Groups List</h3>
<p>The list of all user groups can be viewed using the following steps.</p>

<p class="note">The user must be in the ADMIN user group.</p>

<ol>
  <li>Open the <a href="../../admin/">CPF Admin Application</a>.</li>
  <li>Click the <a href="../../admin/userGroups/">User Groups</a> menu item.</li>
</ol>
</section>

<section>
<h3 id="userGroupModuleList">Module User Groups List</h3>

<p>The list of module specific user groups can be viewed using the following steps.
The list also includes the USER_TYPE and GLOBAL user groups so that permissions can be granted to them.</p>

<p class="note">The user must be in the ADMIN, ADMIN_MODULE_[MODULE_NAME]_ADMIN, or
ADMIN_MODULE_[MODULE_NAME]_SECURITY groups.</p>

<p class="note">If a GLOBAL group is viewed from this page then the option to delete
the group or view, add, or remove members from the group will not be available. That is only
available from the <a href="#userGroupAllList">All User Groups List</a> page.</p>

<ol>
  <li>Open the <a href="module.html#view">Module View</a> page.</li>
  <li>Click the 'User Groups' tab.</li>
</ol>
</section>

<section>
<h3 id="userGroupModuleAdminList">Module Admin User Groups List</h3>

<p>The list of admin user groups for a module can be viewed using the following steps.</p>

<p class="note">The user must be in the ADMIN, or ADMIN_MODULE_[MODULE_NAME]_ADMIN groups.</p>

<ol>
  <li>Open the <a href="module.html#view">Module View</a> page.</li>
  <li>Click the 'Module Admin User Groups' tab.</li>
</ol>

</section>
</section>

<section>
<h2 id="userGroupView">View User Group</h2>

<p>The details of a user group can be viewed from the <a href="#userGroupList">User Group List</a> pages.

<ol>
  <li>Open one of the <a href="#list">User Groups Lists</a> pages.</li>
  <li>Scroll or search for the group to view.</li>
  <li>Click the link in the 'User Group Name' column for the group.</li>
</ol>
</section>

<section>
<h2 id="userGroupAdd">Add User Group</h2>

<section>
<h3 id="userGroupGlobalAdd">Add a Global User Group</h3>
<p>New global user groups can be added using the following steps. Only accounts with the GLOBAL
module name can be created using these steps.</p>

<p class="note">The user must be in the ADMIN user group.</p>

<ol>
  <li>Open the <a href="#userGroupAllList">All User Groups List</a> page.</li>
  <li>Click 'Add' button on the 'User Groups' page.<ol>
    <li>Enter a User Group Name.<ul>
      <li>Must be unique across all user groups from all modules.</li>
      <li>Can only contain the characters A-Z, 0-9, and _.</li>
      <li>Automatically converted to upper case.</li>
      <li>Must start with GLOBAL_.</li>
      <li>Must have additional characters after GLOBAL_.</li>
    </ul></li>
    <li>Enter a human readable description of the purpose of the group.</li>
    <li>Select if the group is to be active.</li>
    <li>Click the 'Save' button to create the user group, 'Clear Fields' to undo any changes, or 'Cancel' to return to the user groups page.</li>
  </ol></li>
</ol>
</section>

<section>
<h3 id="userGroupModuleAdd">Add Module User Group</h3>
<p>New user groups for a module can be added using the following steps. Only accounts with the [MODULE_NAME]
module name can be created using these steps.</p>

<ol>
  <li>Open the <a href="#userGroupModuleList">Module User Groups List</a> page.</li>
  <li>Click 'Add' button on the 'User Groups' page.<ol>
    <li>Enter a User Group Name.<ul>
      <li>Must be unique across all user groups from all modules.</li>
      <li>Can only contain the characters A-Z, 0-9, and _.</li>
      <li>Automatically converted to upper case.</li>
      <li>Must start with the [MODULE_NAME]_ (e.g. TEST_).</li>
      <li>Must have additional characters after [MODULE_NAME]_ (e.g. TEST_USERS).</li>
    </ul></li>
    <li>Enter a human readable description of the purpose of the group.</li>
    <li>Select if the group is to be active.</li>
    <li>Click the 'Save' button to create the user group, 'Clear Fields' to undo any changes, or 'Cancel' to return to the user groups page.</li>
  </ol></li>
</ol>

</section>
</section>

<section>
<h2 id="userGroupDelete">Delete User Group</h2>
<p>Only global or module groups can be deleted. All other groups are managed by the system. Deleting
a group will permanently delete the group, list of group members and any permissions granted to the
group.</p>

<section>
<h3 id="userGroupGlobalDelete">Delete Global User Group</h3>

<p class="note">The user must be in the ADMIN user group.</p>

<ol>
  <li>Open the <a href="#userGroupAllList">All User Groups List</a>, or <a href="#userGroupView">View User Group</a> page.</li>
  <li>Click the trash can button in the 'Actions' field for the the group.</li>
  <li>Click 'OK' in the confirmation dialog to delete the group, or 'Cancel' to return to the page without deleting.</li>
</ol>
</section>

<section>
<h3 id="userGroupModuleDelete">Delete Module User Group</h3>

<p class="note">The user must be in the ADMIN, ADMIN_MODULE_[MODULE_NAME]_ADMIN, or
ADMIN_MODULE_[MODULE_NAME]_SECURITY groups.</p>

<ol>
  <li>Open the <a href="#userGroupModuleList">Module User Groups List</a>, or <a href="#userGroupView">View User Group</a> page.</li>
  <li>Click the trash can button in the 'Actions' field for the the group.</li>
  <li>Click 'OK' in the confirmation dialog to delete the group, or 'Cancel' to return to the page without deleting.</li>
</ol>
</section>
</section>


<section>
<h2 id="userGroupEdit">Edit User Group</h2>
<p>Only global or module groups can be edited. All other groups are managed by the system.</p>

<section>
<h3 id="userGroupGlobalEdit">Edit Global User Group</h3>

<p class="note">The user must be in the ADMIN user group.</p>

<ol>
  <li>Open the <a href="#userGroupView">View User Group</a> page.</li>
  <li>Click the 'Edit' button'.</li>
  <li>Edit the field values.</li>
  <li>Click the 'Save' button to save changes,
  'Revert to Saved' to undo any changes,
  or 'Cancel' to return to the previous page.</li>
</ol>
</section>

<section>
<h3 id="userGroupModuleEdit">Edit Module User Group</h3>

<p class="note">The user must be in the ADMIN, ADMIN_MODULE_[MODULE_NAME]_ADMIN, or
ADMIN_MODULE_[MODULE_NAME]_SECURITY groups.</p>

<ol>
  <li>Open the <a href="#userGroupView">View User Group</a> page.</li>
  <li>Click the 'Edit' button'.</li>
  <li>Edit the field values.</li>
  <li>Click the 'Save' button to save changes,
  'Revert to Saved' to undo any changes,
  or 'Cancel' to return to the previous page.</li>
</ol>
</section>
</section>

<section>
<h2 id="userGroupAccountList">User Accounts for a Group</h2>

<p>Each group has the list of the user accounts who are members of that group. The user accounts
in the group will inherit any permissions granted to the group. The user accounts for a group
can be viewed managed using the following instructions. The exception is the USER_TYPE group,
which has implicit members based on the user accounts. The list of user accounts cannot be viewed
and managed for those groups.</p>

<p class="note">The CPF caches the groups a user is a member of for up to 5 minutes. If adding
or removing users from a group wait at least 5 minutes before testing.</p>

<section>
<h3 id="userGroupAccountList">User Accounts for Group List</h3>
<p>The user accounts for group list contains a scrolling table of the user accounts who are
members of a user group. The contents of this table can be filtered by typing at least 3
characters in search box (on the top right of the table). The table will show user accounts
where the user account consumer key, user account class or user name contain those characters (ignoring case).</p>

<ol>
  <li>Open a <a href="#userGroupView">Viewing a User Group</a> page.</li>
  <li>Click on the 'User Accounts for Group' page.</li>
</ol>
</section>

<section>
<h3 id="userGroupAccountAdd">Add User Account to Group</h3>
<p>A user account can be added as a member of a group using the following steps.</p>

<ol>
  <li>Open a <a href="#userGroupAccountList">User Accounts for Group List</a> page.</li>
  <li>Type at least 3 characters in the 'Username' field on the top left of the form. This
  will show a drop down of matching names. Select the required name from the list.
  Type more characters if the required name is not shown.
  If the user is not shown have them login to the CPF web services to make sure the user account
  is in the CPF database.</li>
  <li>Click the 'Add' button to add the user account to the group.</li>
</ol>
</section>

<section>
<h3 id="userGroupAccountDelete">Delete User Account from Group</h3>
<p>A user account can be deleted from being a member of a group using the following steps.</p>

<ol>
  <li>Open a <a href="#userGroupAccountList">User Accounts for Group List</a> page.</li>
  <li>Scroll or search for the user account.</li>
  <li>Click the trash can button in the 'Actions' field for the the user account.</li>
  <li>Click 'OK' in the confirmation dialog to delete the user account from the group, or 'Cancel' to return to the page without deleting.</li>
</ol>
</section>

</section>

</section>

										<!-- InstanceEndEditable -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="footer">
        <div class="title">Concurrent Processing Framework (v ${project.version})</div>
        <div class="footerMenu">
          <ul>
            <li><a href="http://www2.gov.bc.ca/gov/admin/copyright.page" title="COPYRIGHT">COPYRIGHT</a></li>
            <li><a href="http://www2.gov.bc.ca/gov/admin/disclaimer.page" title="DISCLAIMER">DISCLAIMER</a></li>
            <li><a href="http://www2.gov.bc.ca/gov/admin/privacy.page" title="PRIVACY">PRIVACY</a></li>
            <li><a href="http://www2.gov.bc.ca/gov/admin/accessibility.page" title="ACCESSIBILITY">ACCESSIBILITY</a></li>
          </ul>
        </div>
      </div>
    </div>
  </body>
<!-- InstanceEnd --></html>
