<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xml:lang="en"><!-- InstanceBegin template="/Templates/DocTemplate.dwt" codeOutsideHTMLIsLocked="false" -->
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=8,IE=9,IE=10,IE=Edge" />
    
    <!-- InstanceBeginEditable name="doctitle" -->
<title>Workers - Administration - CPF</title>
    <script type="text/javascript">
pageId = 'workers';
    </script>
<!-- InstanceEndEditable -->

    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/cupertino/jquery-ui.css" rel="stylesheet" type="text/css" />
    <link href="https://cdn.datatables.net/plug-ins/9dcbecd42ad/integration/jqueryui/dataTables.jqueryui.css" rel="stylesheet" type="text/css" />
    <link href="../../css/prettify.css" rel="stylesheet" type="text/css" />
    <link href="../../css/rs.css" rel="stylesheet" type="text/css" />
    <link href="../../css/bcgov.css" rel="stylesheet" type="text/css" />
    <link href="../../css/cpf.css" rel="stylesheet" type="text/css" />

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.4/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/plug-ins/9dcbecd42ad/integration/jqueryui/dataTables.jqueryui.js"></script>
    <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.12.0/jquery.validate.min.js"></script>
    <script type="text/javascript" src="../../js/prettify.js"></script>
    <script type="text/javascript" src="../../js/rs.js"></script>
    <script type="text/javascript">
$(document).ready(function() {
  prettyPrint();
  setPageId(pageId);
  createToc();
});
	</script>

<!-- InstanceBeginEditable name="head" -->
    <style type="text/css">
td > ul {
  margin: 0px;
}
    </style>
<!-- InstanceEndEditable -->
  </head>
  <body>
    <div class="body">
      <div class="header">
        <div class="headerContent">
          <div class="title">
            Concurrent Processing Framework - Developer Guide
           </div>
        </div>
      </div>
      <div class="columns_2_2">
        <div class="columns_2_1">
          <div>
            <div class="column_2_1">
              <div class="sideNav">
                <div class="sideMenu">
                  <div class="title"><a href="http://www.gov.bc.ca/" title="B.C. Home">B.C. Home</a></div>
                  <ul>
                    <li><a href="../../ws/">Home</a></li>
                    <li id="overviewMenu"><a href="../../docs/">Overview</a></li>
                    <li id="clientMenu"><a href="../client/">Client Development</a><ul>
                      <li id="clientRestMenu"><a href="../client/rest-api/">Client REST API</a></li>
                      <li id="clientJavaMenu"><a href="../client/java-api/">Client Java API</a></li>
                     <!-- <li id="clientJavaMenu"><a href="../docs/client/javascript-api/">Client JavaScript API</a></li>-->
                    </ul></li>
                    <li id="pluginMenu"><a href="../plugin/">Plug-in Development</a><ul>
                      <li id="pluginOverviewMenu"><a href="../plugin/overview.html">Plug-in Overview</a></li>
                      <li id="pluginProjectMenu"><a href="../plugin/mavenProject.html">Plug-in Maven Project</a></li>
                      <li id="pluginAppMenu"><a href="../plugin/businessApplication.html">Plug-in Business Application Class</a></li>
                      <li id="pluginCustomizationMenu"><a href="../plugin/customization.html">Plug-in Customization Properties</a></li>
                      <li id="pluginConfigurationMenu"><a href="../plugin/config.html">Plug-in Configuration Properties</a></li>
                      <li id="pluginSecurityMenu"><a href="../plugin/security.html">Plug-in Security</a></li>
                      <li id="pluginTestingMenu"><a href="../plugin/testing.html">Plug-in Testing</a></li>
                      <li id="pluginJavaMenu"><a href="../plugin/java-api/" title="Plug-in Java API">Plug-in Java API</a></li>
                    </ul></li>
                    <li id="installMenu"><a href="../install/">Installation</a><ul>
                      <li id="dbInstallMenu"><a href="../install/database.html">Database Installation</a></li>
                      <li id="webInstallMenu"><a href="../install/webapp.html">Web Application Installation</a></li>
                    </ul></li>
                    <li id="adminMenu"><a href="../admin/">Administration</a><ul>
                      <li id="moduleMenu"><a href="module.html">Modules</a></li>
                      <li id="appMenu"><a href="app.html">Business Applications</a></li>
                      <li id="configPropertyMenu"><a href="configProperty.html">Config Properties</a></li>
                      <li id="userAccountMenu"><a href="userAccount.html">User Accounts</a></li>
                      <li id="userGroupMenu"><a href="userGroup.html">User Groups</a></li>
                      <li id="userGroupPermissionMenu"><a href="userGroupPermission.html">User Group Permissions</a></li>
                      <li id="jobsMenu"><a href="job.html">Batch Jobs</a></li>
                      <li id="statisticsMenu"><a href="statistics.html">Dashboard Statistics</a></li>
                      <li id="workersMenu"><a href="worker.html">Workers</a></li>
                      <li id="logMenu"><a href="log.html">Log Files &amp; Diagnostics</a></li>
                    </ul></li>
                  </ul>
                  </div>
              </div>
            </div>
            <div class="column_2_2">
              <div class="bodyContainer">
                <div class="breadcrumbs">
                    <div class="breadcrumb">
<ul>
<li><a href="../../ws/">HOME</a></li>
<li><a href="../../docs/">Developer Guide</a></li>
<!-- InstanceBeginEditable name="crumbs" -->
<li><a href="index.html">Administration</a></li>
<li>Workers</li>
<!-- InstanceEndEditable -->
</ul>
</div>
                  
                </div>
                <div class="bodyContent">
<!-- InstanceBeginEditable name="body" -->
<div class="title">Workers - Administration</div>
<section>
<h1 id="overview">Overview</h1>
<p>The CPF uses multiple external worker processes to execute groups of requests from a batch job.
The status of these workers can be viewed and groups restarted using the CPF Admin Application. The
list of workers and modules is updated on the server whenever workers connect, disconnect or
modules are started or stopped. These pages require manual refresh to view and changes.</p>

<p>Each worker is given a unique ID that will not change unless the component parts that make up
the ID change. The ID is made up from the following components. Note the workerTomcatContextPath has
any '/' characters replaced by '-'.</p>

<pre>[environmentName]:[workerHostName]:[workerTomcatPort]:[workerTomcatContextPath]</pre>

<p>For example:</p>

<pre>default:192.168.1.102:8009:pub-cpf-worker</pre>

</section>

<section>
<h1 id="management">Worker Management</h1>

<p>This section describes how to manage workers.</p>

<p class="note">The user must be in the ADMIN user group to view workers.</p>

<section>
<h2 id="list">Worker List</h2>
<p>The worker list page shows a scrolling table of workers who have connected in the last 2 minutes.
The contents of this table can be filtered by typing at least 3 characters in search box.
The table will workers where the id or last connect time contain those characters characters (ignoring case).</p>

<ol>
  <li>Open the <a href="../../admin/">CPF Admin Application</a>.</li>
  <li>Click the <a href="../../admin/workers/">Workers</a> menu item.</li>
</ol>
</section>

<section>
<h2 id="view">View Worker</h2>
<p>The worker can view viewed using the following steps.</p>

<ol>
  <li>Open the <a href="#list">Worker List</a> page.</li>
  <li>Scroll/Search for the workers to view.</li>
  <li>Click the link in the 'Id' column.</li>
</ol>
</section>

<section>
<h2 id="groupList">Worker Executing Group List</h2>
<p>The list of groups that are currently executing can be viewed using the following steps. This
can be used to check for groups that have been running for too long. Note that this contents of this
list changes very frequently as new groups are scheduled or completed.</p>

<ol>
  <li>Open the <a href="#view">View Worker</a> page.</li>
  <li>Click the 'Modules' tab.</li>
</ol>
</section>

<section>
<h2 id="groupRestart">Restart Worker Executing Group</h2>
<p>If an execution group has been stuck on a worker it can be rescheduled using the following steps.</p>

<ol>
  <li>Open the <a href="#groupList">Worker Executing Group List</a> page.</li>
  <li>Click the 'Restart' button in the 'Actions' column.</li>
  <li>Click the 'OK' button on the confirm restart dialog to restart the group, or 'Cancel' to return to the page.</li>
</ol>
</section>

<section>
<h2 id="moduleList">Worker Module List</h2>
<p>The list of modules that are loaded on the worker cab be viewed using the following steps.</p>

<ol>
  <li>Open the <a href="#view">View Worker</a> page.</li>
  <li>Click the 'Modules' tab.</li>
</ol>
</section>

<section>
<h2 id="moduleView">View Worker Module</h2>
<p>The full details of the module on the worker including any startup errors viewed using the following steps.</p>

<ol>
  <li>Open the <a href="#moduleList">Worker Module List</a> page.</li>
  <li>Click the link in the 'Name' column.</li>
</ol>
</section>

</section>
										<!-- InstanceEndEditable -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="footer">
        <div class="title">Concurrent Processing Framework (v ${project.version})</div>
        <div class="footerMenu">
          <ul>
            <li><a href="http://www2.gov.bc.ca/gov/admin/copyright.page" title="COPYRIGHT">COPYRIGHT</a></li>
            <li><a href="http://www2.gov.bc.ca/gov/admin/disclaimer.page" title="DISCLAIMER">DISCLAIMER</a></li>
            <li><a href="http://www2.gov.bc.ca/gov/admin/privacy.page" title="PRIVACY">PRIVACY</a></li>
            <li><a href="http://www2.gov.bc.ca/gov/admin/accessibility.page" title="ACCESSIBILITY">ACCESSIBILITY</a></li>
          </ul>
        </div>
      </div>
    </div>
  </body>
<!-- InstanceEnd --></html>
