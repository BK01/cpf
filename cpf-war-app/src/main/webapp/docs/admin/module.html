<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xml:lang="en"><!-- InstanceBegin template="/Templates/DocTemplate.dwt" codeOutsideHTMLIsLocked="false" -->
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=8,IE=9,IE=10,IE=Edge" />
    
    <!-- InstanceBeginEditable name="doctitle" -->
<title>Modules - Administration - CPF</title>
    <script type="text/javascript">
pageId = 'module';
    </script>
<!-- InstanceEndEditable -->

    <link
      href="https://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/css/jquery.dataTables_themeroller.css"
      rel="stylesheet" type="text/css" />
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/cupertino/jquery-ui.css"
      rel="stylesheet" type="text/css" />
    <link href="../../css/prettify.css" rel="stylesheet" type="text/css" />
    <link href="../../css/rs.css" rel="stylesheet" type="text/css" />
    <link href="../../css/bcgov.css" rel="stylesheet" type="text/css" />
    <link href="../../css/cpf.css" rel="stylesheet" type="text/css" />

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.12.0/jquery.validate.min.js"></script>
    <script type="text/javascript" src="../../js/prettify.js"></script>
    <script type="text/javascript" src="../../js/rs.js"></script>
    <script type="text/javascript">
$(document).ready(function() {
  prettyPrint();
  setPageId(pageId);
  createToc();
});
	</script>

<!-- InstanceBeginEditable name="head" -->
    <style type="text/css">
td > ul {
  margin: 0px;
}
    </style>
<!-- InstanceEndEditable -->
  </head>
  <body>
    <div class="body">
      <div class="header">
        <div class="headerContent">
          <div class="title">
            Cloud Processing Framework - Developer Guide
           </div>
        </div>
      </div>
      <div class="columns_2_2">
        <div class="columns_2_1">
          <div>
            <div class="column_2_1">
              <div class="sideNav">
                <div class="sideMenu">
                  <div class="title"><a href="http://www.gov.bc.ca/" title="B.C. Home">B.C. Home</a></div>
                  <ul>
                    <li><a href="../../ws/">Home</a></li>
                    <li id="overviewMenu"><a href="../../docs/">Overview</a></li>
                    <li id="clientMenu"><a href="../client/">Client Development</a><ul>
                      <li id="clientRestMenu"><a href="../client/rest-api/">Client REST API</a></li>
                      <li id="clientJavaMenu"><a href="../client/java-api/">Client Java API</a></li>
                     <!-- <li id="clientJavaMenu"><a href="../docs/client/javascript-api/">Client JavaScript API</a></li>-->
                    </ul></li>
                    <li id="pluginMenu"><a href="../plugin/">Plug-in Development</a><ul>
                      <li id="pluginOverviewMenu"><a href="../plugin/overview.html">Plug-in Overview</a></li>
                      <li id="pluginProjectMenu"><a href="../plugin/mavenProject.html">Plug-in Maven Project</a></li>
                      <li id="pluginAppMenu"><a href="../plugin/businessApplication.html">Plug-in Business Application Class</a></li>
                      <li id="pluginCustomizationMenu"><a href="../plugin/customization.html">Plug-in Customization Properties</a></li>
                      <li id="pluginConfigurationMenu"><a href="../plugin/config.html">Plug-in Configuration Properties</a></li>
                      <li id="pluginSecurityMenu"><a href="../plugin/security.html">Plug-in Security</a></li>
                      <li id="pluginTestingMenu"><a href="../plugin/testing.html">Plug-in Testing</a></li>
                      <li id="pluginJavaMenu"><a href="../plugin/java-api/" title="Plug-in Java API">Plug-in Java API</a></li>
                    </ul></li>
                    <li id="installMenu"><a href="../install/">Installation</a><ul>
                      <li id="dbInstallMenu"><a href="../install/database.html">Database Installation</a></li>
                      <li id="webInstallMenu"><a href="../install/webapp.html">Web Application Installation</a></li>
                    </ul></li>
                    <li id="adminMenu"><a href="../admin/">Administration</a><ul>
                      <li id="moduleMenu"><a href="module.html">Modules</a></li>
                      <li id="appMenu"><a href="app.html">Business Applications</a></li>
                      <li id="configPropertyMenu"><a href="configProperty.html">Config Properties</a></li>
                      <li id="userAccountMenu"><a href="userAccount.html">User Accounts</a></li>
                      <li id="userGroupMenu"><a href="userGroup.html">User Groups</a></li>
                      <li id="userGroupPermissionMenu"><a href="userGroupPermission.html">User Group Permissions</a></li>
                      <li id="jobsMenu"><a href="job.html">Batch Jobs</a></li>
                      <li id="statisticsMenu"><a href="statistics.html">Dashboard Statistics</a></li>
                      <li id="workersMenu"><a href="worker.html">Workers</a></li>
                      <li id="logMenu"><a href="log.html">Log Files</a></li>
                    </ul></li>
                  </ul>
                  </div>
              </div>
            </div>
            <div class="column_2_2">
              <div class="bodyContainer">
                <div class="breadcrumbs">
                    <div class="breadcrumb">
<ul>
<li><a href="../../ws/">HOME</a></li>
<li><a href="../../docs/">Developer Guide</a></li>
<!-- InstanceBeginEditable name="crumbs" -->
<li><a href="index.html">Administration</a></li>
<li>Modules</li>
<!-- InstanceEndEditable -->
</ul>
</div>
                  
                </div>
                <div class="bodyContent">
<!-- InstanceBeginEditable name="body" -->
<div class="title">Modules - Administration</div>
<section>
<h1 id="overview">Overview</h1>

<p>The business application plug-ins are deployed to CPF as Maven Modules. For each plug-in
a new Module is created in the admin application that specifies a <a href="#moduleName">module name</a>
and <a href="#mavenModuleId">maven module id</a>.</p>
 
<p>The CPF then automatically downloads the Maven Module from the
<a href="configProperty.html#repositoryServer">Maven Repository</a> when the module is started. The
CPF caches modules in the local
<a href="configProperty.html#repositoryDirectory">Maven Repository Cache Directory</a>.
More details on plug-in modules can be viewed in the <a href="../plugin/">Plug-in Developers Guide.</a></p>

<p>In addition to the module administration pages described here the following pages describe how to
manage items related to a module.</p>

<ul>
  <li><a href="app.html">Business Applications</a><ul>
  <li><a href="configProperty.html#appList">Business Application Config Properties</a></li>
  <li><a href="statistics.html#appList">Business Application Dashboard Statistics</a></li>
  <li><a href="job.html#appList">Business Application Jobs</a></li>
  </ul></li>
  <li><a href="userGroup.html#userGroupModuleList">Module User Groups</a></li>
  <li><a href="userGroup.html#userGroupModuleAdminList">Module Admin User Groups</a></li>
  <li><a href="userGroupPermission.html">User Group Permissions</a></li>
  <li><a href="configProperty.html#moduleList">Module Config Properties</a></li>
</ul>

<section>
<h2 id="fields">Fields</h2>

<p>The following table summarizes the fields used for modules.<p>

<div class="simpleDataTable">
<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td id="moduleName">Module Name</td>
      <td>The upper case name (acronym) for the module (e.g. BGEO,DEMO).
      Consult the plug-ins readme for the correct value to use.</td>
    </tr>
    <tr>
      <td id="mavenModuleId">Maven Module ID</td>
      <td>The maven module Id for a module plug-in in the format <code>[groupId]:[]artifactId]:[version]</code>
      (e.g <code>com.myapplication:demo:1.0.0-SNAPSHOT</code>). Consult the plug-ins readme for the correct
      value to use. <span class="note">When a new non-snapshot version is deployed the version part must be updated to the new version.</span></td>
    </tr>
    <tr>
      <td id="enabled">Enabled</td>
      <td>Flag to control if the module is enabled. If not enabled the plug-in will be stopped 
      on the master and worker and won't be available for clients to submit jobs. <span class="note">Disabled modules
      may cause broken links from jobs to apps and modules.</span></td>
    </tr>
    <tr>
      <td id="status">Status</td>
      <td>The current status of the module. Disabled, Enabled, Stopped, Stop Requested, Started, Start Requested, Starting, Start Failed.</td>
    </tr>
    <tr>
      <td id="started">Started</td>
      <td>Flag indicating if the module has been started.</td>
    </tr>
    <tr>
      <td id="startTime">Start Time</td>
      <td>The timestamp when the module was started or blank if it has not been started.</td>
    </tr>
    <tr>
      <td id="moduleError">Module Error</td>
      <td>Error message and stack trace if the module could not be started.</td>
    </tr>
    <tr>
      <td id="actions">Actions</td>
      <td>The actions field will display buttons  depending on the state of the module.
      <ul>
      <li>Delete for disabled modules.</li>
      <li>Restart, stop and delete for started modules.</li>
      <li>Start and delete for stopped modules.</li>
      </ul></td>
    </tr>
</table>
</div>
</section>

</section>

<section>
<h1 id="management">Module Management</h1>

<p>This section describes how to manage modules.</p>

<p class="note">The user must be in the ADMIN, ADMIN_MODULE_[MODULE_NAME]_ADMIN, or
ADMIN_MODULE_[MODULE_NAME]_SECURITY groups to manage modules. Module admins will only
see modules they are admins for.</p>

<section>
<h2 id="list">Modules List</h2>

<p>The modules page contains a scrolling table of the modules. The contents of this 
table can be filtered by typing at least 3 characters in search box. The table will show modules where
the name, maven module id, status, or start time contain those characters characters (ignoring case).</p>

<ol>
  <li>Open the <a href="../../admin/">CPF Admin Application</a>.</li>
  <li>Click the <a href="../../admin/modules/">Modules</a> menu item.</li>
</ol>
</section>

<section>
<h2 id="view">View Module</h2>

<p>Modules can be viewed using the following steps.</p>

<ol>
  <li>Open one of the <a href="list">Modules List</a> page.</li>
  <li>Scroll or search for the module.</li>
  <li>Click the link in the 'Name' column.</li>
</ol>
</section>

<section>
<h2 id="add">Add Module</h2>
<p>New modules can be added using the following steps</p>

<p class="note">The user must be in the ADMIN group to add modules. </p>

<ol>
  <li>Open the <a href="#list">Modules List</a> page.</li>
  <li>Click 'Add' button.<ol>
  <li>Edit the field values.<ol>
    <li>Enter a Module Name.<ul>
      <li>Must be unique across all module names.</li>
      <li>Can only contain the characters a-z, 0-9, and _.</li>
      <li>Automatically converted to upper case.</li>
      <li>Must not be one of the reserved words CPF, VIEW, EDIT, ADD, DELETE, APP, ADMIN, DEFAULT, COPY,
    CLONE, MODULE, GROUP.</li>
    </ul></li>
    <li>Enter the <a href="#mavenModuleId">Maven Module Id</a>.</li>
    <li>Select if the user is to be <a href="#enabled">enabled</a>.</li>
  </ol></li>
  <li>Click the 'Save' button to create the module,
  'Clear Fields' to undo any changes,
  or 'Cancel' to return to the previous page.</li>
</ol>
</section>

<section>
<h2 id="delete">Delete Module</h2>
<p>A module can be deleted using the following steps.</p>

<p class="note">The user must be in the ADMIN group to delete modules. </p>

<p class="note">NOTE: This will permanently delete the module, module configuration properties and
module user groups. It will not delete any jobs for business applications in the module. Any
uncompleted jobs will not complete unless the module is added again. To update a module to a new
version edit the module rather than deleting and adding a new module.<p>

<ol>
  <li>Open the <a href="#list">Modules List</a> or <a href="#view">View Module</a> page.</li>
  <li>Click trash button in the 'Actions' field for the module to delete.</li>
  <li>Click the 'OK' button on the confirm delete dialog to delete the module, or 'Cancel' to return to the page.</li>
</ol>
</section>

<section>
<h2 id="edit">Edit Module</h2>
<p>Modules can be edited using the following steps.
only the <a href="#mavenModuleId">Maven Module Id</a> and <a href="#enabled">enabled</a> flag can be edited.</p>

<p class="note">The user must be in the ADMIN group to edit modules. </p>

<p class="note">Editing a module will cause an immediate restart of the module on the master and all workers.</p>

<ol>
  <li>Open the <a href="#view">View Module</a> page.</li>
  <li>Click the 'Edit button'.</li>
  <li>Edit the field values.<ol>
    <li>Enter the <a href="#mavenModuleId">Maven Module Id</a>.</li>
    <li>Select if the user is to be <a href="#enabled">enabled</a>.</li>
  </ol></li>
  <li>Click the 'Save' button to save changes, 'Revert to Saved' to undo any changes, or 'Cancel' to return to previous page.</li>
</ol>
</section>

<section>
<h2 id="delete">Start Module</h2>
<p>A module can be started using the following steps.</p>

<p class="note">The user must be in the ADMIN group to start modules. </p>

<p class="note">Starting a module will cause an immediate start of the module on the master and all workers.<p>

<ol>
  <li>Open the <a href="#list">Modules List</a> or <a href="#view">View Module</a> page.</li>
  <li>Click restart button in the 'Actions' field for the module to start.</li>
  <li>Click the 'OK' button on the confirm dialog to start the module, or 'Cancel' to return to the page.</li>
</ol>
</section>

<section>
<h2 id="delete">Restart Module</h2>
<p>A module can be restarted using the following steps.</p>

<p class="note">The user must be in the ADMIN group to restart modules. </p>

<p class="note">Restarting a module will cause an immediate restart of the module on the master and all workers.<p>

<ol>
  <li>Open the <a href="#list">Modules List</a> or <a href="#view">View Module</a> page.</li>
  <li>Click restart button in the 'Actions' field for the module to restart.</li>
  <li>Click the 'OK' button on the confirm dialog to restart the module, or 'Cancel' to return to the page.</li>
</ol>
</section>

<section>
<h2 id="delete">Stop Module</h2>
<p>A module can be stopped using the following steps.</p>

<p class="note">The user must be in the ADMIN group to stop modules. </p>

<p class="note">Stopping a module will cause an immediate stop of the module on the master and all workers.<p>

<ol>
  <li>Open the <a href="#list">Modules List</a> or <a href="#view">View Module</a> page.</li>
  <li>Click stop button in the 'Actions' field for the module to stop.</li>
  <li>Click the 'OK' button on the confirm dialog to stop the module, or 'Cancel' to return to the page.</li>
</ol>
</section>

</section>
										<!-- InstanceEndEditable -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="footer">
        <div class="title">Cloud Processing Framework (v ${project.version})</div>
        <div class="footerMenu">
          <ul>
            <li><a href="http://www2.gov.bc.ca/gov/admin/copyright.page" title="COPYRIGHT">COPYRIGHT</a></li>
            <li><a href="http://www2.gov.bc.ca/gov/admin/disclaimer.page" title="DISCLAIMER">DISCLAIMER</a></li>
            <li><a href="http://www2.gov.bc.ca/gov/admin/privacy.page" title="PRIVACY">PRIVACY</a></li>
            <li><a href="http://www2.gov.bc.ca/gov/admin/accessibility.page" title="ACCESSIBILITY">ACCESSIBILITY</a></li>
          </ul>
        </div>
      </div>
    </div>
  </body>
<!-- InstanceEnd --></html>
