<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xml:lang="en"><!-- InstanceBegin template="/Templates/DocTemplate.dwt" codeOutsideHTMLIsLocked="false" -->
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=8,IE=9,IE=10,IE=Edge" />
    
    <!-- InstanceBeginEditable name="doctitle" -->
<title>Plug-in Customization Properties - CPF</title>
<!-- InstanceEndEditable -->

    <link
      HREF="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.1/css/jquery.dataTables_themeroller.css"
      REL="stylesheet" type="text/css" />
    <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/themes/cupertino/jquery-ui.css"
      REL="stylesheet" type="text/css" />
    <link href="../../css/prettify.css" rel="stylesheet" type="text/css" />
    <link href="../../css/rs.css" rel="stylesheet" type="text/css" />
    <link href="../../css/bcgov.css" rel="stylesheet" type="text/css" />
    <link href="../../css/cpf.css" rel="stylesheet" type="text/css" />
  
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/jquery-ui.min.js"></script>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.1/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.min.js"></script>
    <script type="text/javascript" src="../../js/prettify.js"></script>
    <script type="text/javascript" src="../../js/rs.js"></script>
    <script type="text/javascript">
$(document).ready(function() {
  prettyPrint();
});
	</script>

<!-- InstanceBeginEditable name="head" -->
<!-- InstanceEndEditable -->
  </head>
  <body>
    <div class="body">
      <div class="header">
        <div class="headerContent">
          <div class="title">
            Cloud Processing Framework - Developer Guide
           </div>
        </div>
      </div>
      <div class="columns_2_2">
        <div class="columns_2_1">
          <div>
            <div class="column_2_1">
              <div class="sideNav">
                <div class="sideMenu">
                  <div class="title"><a href="http://www.gov.bc.ca/" title="B.C. Home">B.C. Home</a></div>
                  <ul>
                    <li><a href="../../ws/" title="Home">Home</a></li>
                    <li><a href="../client/">Client Development</a><ul>
                      <li><a href="../client/rest-api/" title="Client REST API">Client REST API</a></li>
                      <li><a href="../client/java-api/" title="Client Java API">Client Java API</a></li>
                      <li><a href="../client/javascript-api/" title="Client JavaScript API">Client JavaScript API</a></li>
                    </ul></li>
                    <li><a href="../install/">CPF Installation</a><ul>
                      <li><a href="../install/database.html">CPF Database Installation</a></li>
                      <li><a href="../install/webapp.html">CPF Web Application Installation</a></li>
                    </ul></li>
                    <li><a href="../plugin/">Plug-in Development</a><ul>
                      <li><a href="overview.html">Plug-in Overview</a></li>
                      <li><a href="mavenProject.html">Plug-in Maven Project</a></li>
                      <li><a href="businessApplication.html">Plug-in Business Application Class</a></li>
                      <li><a href="customization.html">Plug-in Customization Properties</a></li>
                      <li><a href="config.html">Plug-in Configuration Properties</a></li>
                      <li><a href="security.html">Plug-in Security</a></li>
                      <li><a href="java-api/" title="Plug-in Java API">Plug-in Java API</a></li>
                    </ul></li>
                  </ul>
                  </div>
              </div>
            </div>
            <div class="column_2_2">
              <div class="bodyContainer">
                <div class="breadcrumbs">
                    <div class="breadcrumb">
<ul>
<li><a href="../../ws/">HOME</a></li>
<li><a href="../../docs/">Developer Guide</a></li>
<!-- InstanceBeginEditable name="crumbs" -->
<li><a href="../../docs/plugin">Plug-in API</a></li>
<li>Customization Properties</li>
<!-- InstanceEndEditable -->
</ul>
</div>
                  
                </div>
                <div class="bodyContent">
<!-- InstanceBeginEditable name="body" -->
<h1>Customization Properties</h1>

<p>Plugins can customize certain aspects of the files generated by the CPF for structured results. For example the URL to the style document to be used in KML documents.</p>

<p>The customization properties can be defined using an optional <code>properties</code> map bean in the <code>ca.bc.gov.open.cpf.plugin.sf.xml</code> file.</p>

<p>The map can contain a <code>default</code> entry, or an entry for each business application name. The value for each entry is a map of the customization properties. If the property is not specified for a business application then the value from the default entry is used.</p>

<figure>
<pre class="prettyprint">&lt;util:map id=<em>&quot;<b>properties</b>&quot;</em>&gt;
  &lt;entry key=<em>&quot;<b>default</b>&quot;</em>&gt;
   &lt;map&gt;
     &lt;entry
       key=<em>&quot;<b>kmlPlaceMarkNameAttribute</b>&quot;</em>
       value=<em>&quot;<b>fieldA</b>&quot;</em> /&gt;
    &lt;/map&gt;
  &lt;/entry&gt;
  &lt;entry key=<em>&quot;<b>demo</b>&quot;</em>&gt;
   &lt;map&gt;
     &lt;entry
       key=<em>&quot;<b>kmlPlaceMarkNameAttribute</b>&quot;</em>
        value=<em>&quot;<b>fieldB</b>&quot;</em> /&gt;
   &lt;/map&gt;
  &lt;/entry&gt;
&lt;/util:map&gt;</pre>
</figure>

<p>Customization properties can also be specified on a plugin class or on the result object for plugins that return a list of results. This allows the property to be calculated for each result. For example the <code>kmlStyleUrl</code> may vary based on the type of result. The following example show the optional method that must be implemented for plugins that wish to define per result configuration properties.</p>

<figure>
<pre class="prettyprint">public Map&lt;String,Object&gt; getCustomizationProperties() {
  Map&lt;String,Object&gt; properties = new HashMap&lt;String,Object&gt;();
  // properties.put(&quot;&lt;propertyName&gt;&quot;, &lt;propertyValue&gt;);
  /* For example */
  String styleId = &quot;&lt;Calculated from some field on object&gt;&quot;;
  properties.put(&quot;kmlStyleUrl&quot;, "http://gov.bc.ca/kmlStyle.kml#" + styleId);
  return properties;
}</pre>
</figure>

<p>The following customization properties are supported.</p>

<div class="simpleDataTable">
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>kmlDocumentName</code></code></td>
        <td><code>String</code></td>
        <td>The text to use as the name of the KML Document. <b>NOTE: Don't use on a per result basis.</b></td>
      </tr>
      <tr>
        <td><code>kmlDocumentDescription</code></td>
        <td><code>String</code></td>
        <td>The text to use as the description of the KML Document. <b>NOTE: Don't use on a per result basis.</b></td>
      </tr>
      <tr>
        <td><code>kmlStyle</code></td>
        <td><code>String</code></td>
        <td>A list of one or more KML Style tags containing a custom style for the whole document. <b>NOTE: Don't use on a per result basis.</b> External styles should be preferred.</td>
      </tr>
      <tr>
        <td><code>kmlPlacemarkDescription</code></td>
        <td><code>String</code></td>
        <td>The text to use as the description of the KML Placemark created for each result.</td>
      </tr>
      <tr>
        <td><code>kmlPlaceMarkNameAttribute</code></td>
        <td><code>String</code></td>
        <td>The name result attribute to use as the Name of the KML Placemark created for each result.</td>
      </tr>
      <tr>
        <td><code>kmlSnippet</code></td>
        <td><code>String</code></td>
        <td>The text to use as the snippet of the KML Placemark created for each result.</td>
      </tr>
      <tr>
        <td><code>kmlStyleUrl</code></td>
        <td><code>String</code></td>
        <td>The text to use as the styleUrl of the KML Placemark created for each result.</td>
      </tr>
    </tbody>
  </table>
</div>

<p>See the <a href="https://developers.google.com/kml/documentation/kmlreference">kml reference guide</a> for details on how to use the KML attributes.</p>

<div class="pageNavigation">
  <table>
    <tr>
      <td class="previous"><a href="businessApplication.html">&lt; Previous - Business Application Class</a></td>
      <td class="home"><a href="./">Home</a></td>
      <td class="next"><a href="config.html">Configuration Properties - Next &gt;</a></td>
    </tr>
  </table>
</div>

<!-- InstanceEndEditable -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="footer">
        <div class="title">Cloud Processing Framework (v ${project.version})</div>
        <div class="footerMenu">
          <ul>
            <li><a href="http://www2.gov.bc.ca/gov/admin/copyright.page" title="COPYRIGHT">COPYRIGHT</a></li>
            <li><a href="http://www2.gov.bc.ca/gov/admin/disclaimer.page" title="DISCLAIMER">DISCLAIMER</a></li>
            <li><a href="http://www2.gov.bc.ca/gov/admin/privacy.page" title="PRIVACY">PRIVACY</a></li>
            <li><a href="http://www2.gov.bc.ca/gov/admin/accessibility.page" title="ACCESSIBILITY">ACCESSIBILITY</a></li>
          </ul>
        </div>
      </div>
    </div>
  </body>
<!-- InstanceEnd --></html>
