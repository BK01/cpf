
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2016-Nov-18
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Concurrent Processing Framework &#x2013; Batch Job Processing</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />
 
		<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet" />
		<link href="..//css/docs.css" rel="stylesheet" />
		<link href="..//css/reflow-skin.css" rel="stylesheet" />

		<link href="//yandex.st/highlightjs/7.5/styles/default.min.css" rel="stylesheet" />

		<link href="..//css/lightbox.css" rel="stylesheet" />

		<link href="..//css/site.css" rel="stylesheet" />
		<link href="..//css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->



	</head>

	<body class="page-reference-jobprocessing project-cpf-parent" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="../"><span class="color-highlight">CPF</span></a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../index.html" title="About">About</a></li>
									<li ><a href="../install.html" title="Installation">Installation</a></li>
									<li ><a href="../plugin.html" title="Plug-in Developer Guide">Plug-in Developer Guide</a></li>
									<li ><a href="../client.html" title="Client Developer Guide">Client Developer Guide</a></li>
									<li ><a href="../admin.html" title="Administrator Guide">Administrator Guide</a></li>
									<li class="dropdown-submenu disabled">
										<a title="Reference">Reference</a>
										<ul class="dropdown-menu">
											<li ><a href="maven.html" title="Maven">Maven</a></li>
											<li ><a href="authentication.html" title="Authentication">Authentication</a></li>
											<li ><a href="dataTypes.html" title="Data Types">Data Types</a></li>
											<li ><a href="fileFormats.html" title="File Formats">File Formats</a></li>
											<li ><a href="resourceDescription.html" title="Resource Description">Resource Description</a></li>
											<li ><a href="jobStatus.html" title="Job Status">Job Status</a></li>
											<li ><a href="structuredData.html" title="Structured Data">Structured Data</a></li>
											<li ><a href="opaqueData.html" title="Opaque Data">Opaque Data</a></li>
										</ul>
									</li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Modules <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../cpf-api-plugin/index.html" title="Concurrent Processing Framework Business Application Plugin API">Concurrent Processing Framework Business Application Plugin API</a></li>
									<li ><a href="../cpf-api-client/index.html" title="Concurrent Processing Framework Client Java API">Concurrent Processing Framework Client Java API</a></li>
									<li ><a href="../cpf-api-app/index.html" title="Concurrent Processing Framework Application Java API">Concurrent Processing Framework Application Java API</a></li>
									<li ><a href="../cpf-api-worker/index.html" title="Concurrent Processing Framework API Worker">Concurrent Processing Framework API Worker</a></li>
									<li ><a href="../cpf-war-app/index.html" title="Concurrent Processing Framework Base WAR Web Application">Concurrent Processing Framework Base WAR Web Application</a></li>
									<li ><a href="../cpf-war-worker/index.html" title="Concurrent Processing Framework Base WAR Worker">Concurrent Processing Framework Base WAR Worker</a></li>
									<li ><a href="../cpf-archetype-plugin/index.html" title="CPF Plug-in Maven Arechtype">CPF Plug-in Maven Arechtype</a></li>
									<li ><a href="../cpf-archetype-web/index.html" title="Concurrent Processing Framework Archetype Web">Concurrent Processing Framework Archetype Web</a></li>
									<li ><a href="../plugins/test/index.html" title="CPF Test Plugins">CPF Test Plugins</a></li>
									<li ><a href="../plugins/digest/index.html" title="Digest Plug-in">Digest Plug-in</a></li>
									<li ><a href="../plugins/geometry-validation/index.html" title="Geometry Validation Plug-in">Geometry Validation Plug-in</a></li>
									<li ><a href="../plugins/mandelbrot/index.html" title="Mandelbrot Plug-in">Mandelbrot Plug-in</a></li>
									<li ><a href="../plugins/map-tile/index.html" title="Map Tile Plug-in">Map Tile Plug-in</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Contribute <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="https://github.com/bcgov/cpf/" title="GitHub Project" class="externalLink">GitHub Project</a></li>
									<li ><a href="https://github.com/bcgov/cpf/issues/" title="Issues (GitHub)" class="externalLink">Issues (GitHub)</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Links <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="https://www2.gov.bc.ca" title="Province of British Columbia" target="_blank" class="externalLink">Province of British Columbia</a></li>
									<li ><a href="https://bcdevexchange.org/" title="BC Developer Exchange" target="_blank" class="externalLink">BC Developer Exchange</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Maven documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li class="dropdown-submenu ">
										<a href="../project-info.html" title="Project Information">Project Information</a>
										<ul class="dropdown-menu">
											<li ><a href="../dependency-convergence.html" title="Dependency Convergence">Dependency Convergence</a></li>
											<li ><a href="../dependency-info.html" title="Dependency Information">Dependency Information</a></li>
											<li ><a href="../dependency-management.html" title="Dependency Management">Dependency Management</a></li>
											<li ><a href="../distribution-management.html" title="Distribution Management">Distribution Management</a></li>
											<li ><a href="../index.html" title="About">About</a></li>
											<li ><a href="../issue-tracking.html" title="Issue Management">Issue Management</a></li>
											<li ><a href="../license.html" title="Licenses">Licenses</a></li>
											<li ><a href="../modules.html" title="Project Modules">Project Modules</a></li>
											<li ><a href="../plugin-management.html" title="Plugin Management">Plugin Management</a></li>
											<li ><a href="../plugins.html" title="Plugins">Plugins</a></li>
											<li ><a href="../team-list.html" title="Team">Team</a></li>
											<li ><a href="../source-repository.html" title="Source Code Management">Source Code Management</a></li>
											<li ><a href="../project-summary.html" title="Summary">Summary</a></li>
										</ul>
									</li>
									<li class="dropdown-submenu ">
										<a href="../project-reports.html" title="Project Reports">Project Reports</a>
										<ul class="dropdown-menu">
											<li ><a href="../apidocs/index.html" title="JavaDocs">JavaDocs</a></li>
										</ul>
									</li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	<div class="jumbotron subhead">
		<div class="row" id="banner">
			<div class="span12">
				<div class="pull-left">
					<div id="bannerLeft"><h1>Concurrent Processing Framework</h1></div>
				</div>
				<div class="pull-right">
					<a href="https://www2.gov.bc.ca" id="bannerRight"><img src="../images/bc_sun_logo_horiz.gif" alt='"'Province of British Columbia'"' /></a>
				</div>
			</div>
		</div>
	</div>
		<div>
			<ul class="breadcrumb">
				<li><a href="../" title="CPF">CPF</a></li>
				<li class="divider">/</li>
				<li>Batch Job Processing</li>
			</ul>
		</div>
		<hr class="toc-separator" />
		<div id="toc-bar" class="navbar" data-spy="affix" data-offset-top="250">
			<div class="navbar-inner">
				<div id="toc-scroll-target" class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#toc-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<div class="nav-collapse collapse" id="toc-nav-collapse">
						<ul id="toc" class="nav">
						<li class="toplevel"><a href="#Batch_Job_Processing" title="Batch Job Processing">Batch Job Processing</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<div class="section"> 
 <div class="page-header">
  <h2 id="Batch_Job_Processing">Batch Job Processing</h2>
 </div> 
 <p>A Job in the CPF is a collection of requests to be processed by a business application on behalf of a user. The CPF uses the business application to process each request in the job to create the results. When all requests in a job have been completed the user can download the results.</p> 
 <p>The following diagram shows all the steps required to process a job using the CPF. Boxes in blue are client specific tasks and those in green are CPF web service API calls.</p> 
 <div class="diagram"> 
  <img src="../images/jobProcessing.png" alt="" /> 
 </div> 
 <p>Follow these instructions to see a demo of submitting a job to the CPF.</p> 
 <p>NOTE: to use the demo.</p> 
 <ol style="list-style-type: decimal"> 
  <li>Create the mapGrid.txt job request file on your local drive with the following contents. <tt>&quot;mapGridName&quot;,&quot;numBoundaryPoints&quot;,&quot;mapTileId&quot; &quot;NTS 1:250 000&quot;,10,&quot;92j&quot; &quot;BCGS 1:20 000&quot;,10,&quot;92j016&quot; &quot;BCGS 1:20 000&quot;,,&quot;92j025&quot;</tt></li> 
  <li>Using a web browser go to (<a class="externalLink" href="https://apps.gov.bc.ca/pub/cpf/secure/ws/apps/MapTileByTileId/1.0.0/multiple/)">https://apps.gov.bc.ca/pub/cpf/secure/ws/apps/MapTileByTileId/1.0.0/multiple/)</a>.</li> 
  <li>Enter the values for the following parameters. 
   <div class="table-responsive"> 
    <table border="0" class="table table-condensed table-striped tabled-bordered"> 
     <thead> 
      <tr class="b"> 
       <th>Num Boundary Points</th> 
       <td>5</td> 
      </tr> 
     </thead> 
     <thead> 
      <tr class="a"> 
       <th>Map Grid Name</th> 
       <td>BCGS 1:20 000</td> 
      </tr> 
     </thead> 
     <thead> 
      <tr class="b"> 
       <th>Result Data Content Type</th> 
       <td>text/html (Try the others as well as a later exercise)</td> 
      </tr> 
     </thead> 
     <thead> 
      <tr class="a"> 
       <th>Input Data</th> 
       <td>mapGrid.txt (select the file created in step #1)</td> 
      </tr> 
     </thead> 
     <thead> 
      <tr class="b"> 
       <th>Input Data Content Type</th> 
       <td>text/csv</td> 
      </tr> 
     </thead> 
     <thead> 
      <tr class="a"> 
       <th>Num Requests</th> 
       <td>3</td> 
      </tr> 
     </thead> 
     <tbody> 
     </tbody> 
    </table> 
   </div></li> 
  <li>Click Submit, this is the submit job step.</li> 
  <li>After a few seconds the job status HTML page will be displayed. The Id is the URL to this page, which can be saved and used later to check the status of the job.</li> 
  <li>If the status page does not have a Results Url entry in the table refresh the page until it appears. This is the Check Job Status step.</li> 
  <li>Click on the Results Url link to view the list of result files, this is the list result files step.</li> 
  <li>If there were no errors there should be a single link on the result files page. Click this link to download/view the results, this is the download result files step. The format of the result file is the value entered in the Result Data Content Type on the job submission page. If there was an error file it will always be returned as a CSV file.</li> 
 </ol> 
 <p>In the above example the business application returned structured data records as the result of each request. The CPF merged these result records into a single file for download. Some business applications will return a binary file for each request (e.g. JPG, PNG, PDF). In this case there will be one file link on the results page for the result for each request in the job. The order of the result file links will be the same as the order of the requests in the input file.</p> 
</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span1 bottom-nav">
					<ul class="nav nav-list">
					</ul>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2008-2016 <a href="https://www.gov.bc.ca/">Province of British Columbia</a>. All Rights Reserved.</p>
				<p class="version-date"><span class="projectVersion">Version: 5.0.4-SNAPSHOT. </span><span class="publishDate">Last Published: 2016-Nov-18. </span></p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="..//js/lightbox.min.js"></script>
	<script src="..//js/reflow-scroll.js"></script>
	<script src="//yandex.st/highlightjs/7.5/highlight.min.js"></script>

	<script src="..//js/reflow-skin.js"></script>

	</body>
</html>
