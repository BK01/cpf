
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2015-Mar-10
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Concurrent Processing Framework &#x2013; Customization Properties<</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />
 
		<link href="http://netdna.bootstrapcdn.com/bootswatch/2.3.2/flatly/bootstrap.min.css" rel="stylesheet" />
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="..//css/bootswatch.css" rel="stylesheet" />
		<link href="..//css/reflow-skin.css" rel="stylesheet" />

		<link href="http://yandex.st/highlightjs/7.5/styles/default.min.css" rel="stylesheet" />

		<link href="..//css/lightbox.css" rel="stylesheet" />

		<link href="..//css/site.css" rel="stylesheet" />
		<link href="..//css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->



	</head>

	<body class="page-plugin-customization project-cpf-parent" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="../"><span class="color-highlight">CPF</span></a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../index.html" title="About">About</a></li>
									<li ><a href="../install.html" title="Installation">Installation</a></li>
									<li ><a href="../plugin.html" title="Plug-in Developer Guide">Plug-in Developer Guide</a></li>
									<li ><a href="../client/index.html" title="Client Developer Guide">Client Developer Guide</a></li>
									<li class="dropdown-submenu disabled">
										<a title="Reference">Reference</a>
										<ul class="dropdown-menu">
											<li ><a href="../reference/maven.html" title="Maven">Maven</a></li>
											<li ><a href="../reference/authentication.html" title="Authentication">Authentication</a></li>
											<li ><a href="../reference/dataTypes.html" title="Data Types">Data Types</a></li>
											<li ><a href="../reference/fileFormats.html" title="File Formats">File Formats</a></li>
											<li ><a href="../reference/resourceDescription.html" title="Resource Description">Resource Description</a></li>
											<li ><a href="../reference/jobStatus.html" title="Job Status">Job Status</a></li>
											<li ><a href="../reference/structuredData.html" title="Structured Data">Structured Data</a></li>
											<li ><a href="../reference/opaqueData.html" title="Opaque Data">Opaque Data</a></li>
										</ul>
									</li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Modules <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../cpf-api-plugin/index.html" title="CPF Plug-in">CPF Plug-in</a></li>
									<li ><a href="../cpf-api-client/index.html" title="CPF Client API">CPF Client API</a></li>
									<li ><a href="../cpf-api-app/index.html" title="CPF Application API">CPF Application API</a></li>
									<li ><a href="../cpf-api-worker/index.html" title="CPF Worker API">CPF Worker API</a></li>
									<li ><a href="../cpf-security-openid/index.html" title="CPF Security OpenID">CPF Security OpenID</a></li>
									<li ><a href="../cpf-war-app/index.html" title="CPF Application WAR">CPF Application WAR</a></li>
									<li ><a href="../cpf-war-worker/index.html" title="Concurrent Processing Framework Base WAR Worker">Concurrent Processing Framework Base WAR Worker</a></li>
									<li ><a href="../cpf-archetype-plugin/index.html" title="CPF Plug-in Archetype">CPF Plug-in Archetype</a></li>
									<li ><a href="../cpf-archetype-web/index.html" title="CPF Web Archetype">CPF Web Archetype</a></li>
									<li ><a href="../cpf-plugin-test/index.html" title="CPF Test Plug-ins">CPF Test Plug-ins</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Contribute <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="http://github.com/pauldaustin/cpf/" title="GitHub Project" class="externalLink">GitHub Project</a></li>
									<li ><a href="http://github.com/pauldaustin/cpf/issues/" title="Issues (GitHub)" class="externalLink">Issues (GitHub)</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Links <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="http://www.gov.bc.ca/" title="Province of British Columbia" target="_blank" class="externalLink">Province of British Columbia</a></li>
									<li ><a href="http://bcdevexchange.org/" title="BC Developer Exchange" target="_blank" class="externalLink">BC Developer Exchange</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Maven documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li class="dropdown-submenu ">
										<a href="../project-info.html" title="Project Information">Project Information</a>
										<ul class="dropdown-menu">
											<li ><a href="../dependency-convergence.html" title="Dependency Convergence">Dependency Convergence</a></li>
											<li ><a href="../dependency-info.html" title="Dependency Information">Dependency Information</a></li>
											<li ><a href="../dependency-management.html" title="Dependency Management">Dependency Management</a></li>
											<li ><a href="../distribution-management.html" title="Distribution Management">Distribution Management</a></li>
											<li ><a href="../index.html" title="About">About</a></li>
											<li ><a href="../license.html" title="Project License">Project License</a></li>
											<li ><a href="../modules.html" title="Project Modules">Project Modules</a></li>
											<li ><a href="../plugin-management.html" title="Plugin Management">Plugin Management</a></li>
											<li ><a href="../plugins.html" title="Project Plugins">Project Plugins</a></li>
											<li ><a href="../team-list.html" title="Project Team">Project Team</a></li>
											<li ><a href="../source-repository.html" title="Source Repository">Source Repository</a></li>
											<li ><a href="../project-summary.html" title="Project Summary">Project Summary</a></li>
										</ul>
									</li>
									<li class="dropdown-submenu ">
										<a href="../project-reports.html" title="Project Reports">Project Reports</a>
										<ul class="dropdown-menu">
											<li ><a href="../apidocs/index.html" title="JavaDocs">JavaDocs</a></li>
										</ul>
									</li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	<div class="jumbotron subhead">
		<div class="row" id="banner">
			<div class="span12">
				<div class="pull-left">
					<div id="bannerLeft"><h1>Concurrent Processing Framework</h1></div>
				</div>
				<div class="pull-right">
					<a href="http://www.gov.bc.ca/" id="bannerRight"><img src="../images/bc_sun_logo_horiz.gif" alt='"'Province of British Columbia'"' /></a>
				</div>
			</div>
		</div>
	</div>
		<div>
			<ul class="breadcrumb">
				<li><a href="../" title="CPF">CPF</a></li>
				<li class="divider">/</li>
				<li>Customization Properties<</li>
			</ul>
		</div>
		<hr class="toc-separator" />
		<div id="toc-bar" class="navbar" data-spy="affix" data-offset-top="250">
			<div class="navbar-inner">
				<div id="toc-scroll-target" class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#toc-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<div class="nav-collapse collapse" id="toc-nav-collapse">
						<ul id="toc" class="nav">
						<li class="toplevel"><a href="#Customization_Properties" title="Customization Properties<">Customization Properties<</a></li>
						<li class="toplevel"><a href="#Defining_Customization_Properties" title="Defining Customization Properties">Defining Customization Properties</a></li>
						<li class="toplevel"><a href="#Form_Customization_Properties" title="Form Customization Properties">Form Customization Properties</a></li>
						<li class="toplevel"><a href="#Result_File_Customization_Properties" title="Result File Customization Properties">Result File Customization Properties</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<div class="section"> 
 <div class="section"> 
  <h3 id="Customization_Properties">Customization Properties&lt;</h3> 
  <p>Plug-ins can customize certain aspects of the HTML forms for submitting jobs or how the files generated by the CPF for structured results. For example the sections to group fields on the forms or the URL to the style document to be used in KML documents.</p> 
  <div class="section"> 
   <h4 id="Defining_Customization_Properties">Defining Customization Properties</h4> 
   <p>The customization properties can be defined using an optional <tt>properties</tt> map bean in the <tt>ca.bc.gov.open.cpf.plug-in.sf.xml</tt> file.</p> 
   <p>The map can contain a <tt>default</tt> entry, or an entry for each business application name. The value for each entry is a map of the customization properties. If the property is not specified for a business application then the value from the default entry is used.</p> 
   <p><b>Example Plug-in Customization Properties</b></p> 
   <div class="source"> 
    <div class="source"> 
     <pre>&lt;util:map id=&quot;properties&quot;&gt;
&nbsp;&nbsp;&lt;entry key=&quot;default&quot;&gt;
&nbsp;  &lt;map&gt;
&nbsp;&nbsp;&nbsp;  &lt;entry
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  key=&quot;kmlPlaceMarkNameAttribute&lt;/b&gt;&gt;&lt;/em&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  value=&quot;fieldA&lt;/b&gt;&gt;&lt;/em&gt; /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/map&gt;
&nbsp;&nbsp;&lt;/entry&gt;
&nbsp;&nbsp;&lt;entry key=&quot;demo&quot;&gt;
&nbsp;  &lt;map&gt;
&nbsp;&nbsp;&nbsp;  &lt;entry
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  key=&quot;kmlPlaceMarkNameAttribute&lt;/b&gt;&gt;&lt;/em&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value=&quot;fieldB&lt;/b&gt;&gt;&lt;/em&gt; /&gt;
&nbsp;  &lt;/map&gt;
&nbsp;&nbsp;&lt;/entry&gt;
&lt;/util:map&gt;
</pre> 
    </div> 
   </div> 
   <p>Customization properties can also be set by adding a config property for a business application using the admin web application.</p> 
   <ol style="list-style-type: decimal"> 
    <li>Open the CPF modules admin page.</li> 
    <li>Click on the name of the module in the table, this will open the module view page.</li> 
    <li>Click the Business Applications tab to view the list of business applications.</li> 
    <li>Click on the name of the business application in the table, this will open the business application view page.</li> 
    <li>Click the Config Properties tab to view the current properties.</li> 
    <li>Click the id of a property to view it and then click Edit to change the value or click Add to add a new property.</li> 
   </ol> 
  </div> 
  <div class="section"> 
   <h4 id="Form_Customization_Properties">Form Customization Properties</h4> 
   <p>The following customization properties are used to define the sections to group fields on the forms and the default values for fields on the job submission forms.</p> 
   <table border="0" class="bodyTable table table-striped table-hover"> 
    <thead> 
     <tr class="a"> 
      <th>Name</th> 
      <th>Type</th> 
      <th>Description</th> 
     </tr> 
    </thead> 
    <tbody> 
     <tr class="b"> 
      <td><tt>formSectionsOpen</tt><br /> <tt>formSectionsOpenInstant</tt><br /> <tt>formSectionsOpenSingle</tt><br /> <tt>formSectionsOpenMultiple</tt></td> 
      <td><tt>List&lt;String&gt;</tt></td> 
      <td>The list of section names that are open on the job submission forms, all other sections will be closed by default. The open sections can be specified for all forms using <tt>formSectionsOpen</tt> or for a specific form using <tt>formSectionsOpenInstant</tt>, <tt>formSectionsOpenSingle</tt>, or <tt>formSectionsOpenMultiple</tt>. If not specified the open sections will be <tt>applicationParameters</tt>, <tt>inputData</tt>, and <tt>resultFormat</tt>. **Example Form Open Sections Customization** ```xml <map> applicationParameters inputData resultFormat applicationParameters requestParameters resultFormat applicationParameters requestParameters resultFormat </map> ``` </td> 
     </tr> 
     <tr class="a"> 
      <td><tt>formSectionsMap</tt><br /> <tt>formSectionsMapInstant</tt><br /> <tt>formSectionsMapSingle</tt><br /> <tt>formSectionsMapMultiple</tt></td> 
      <td><tt>List&lt;String&gt;</tt></td> 
      <td>This property is used to customize the sections and the fields in each section that appear on the job submission forms. The section field can be specified for all forms <tt>formSectionsMap</tt> or for a specific form <tt>formSectionsMapInstant</tt>, <tt>formSectionsMapSingle</tt>, <tt>formSectionsMapMultiple</tt>. The property is a <tt>map</tt> where the <tt>key</tt> on the <tt>entry</tt> is the name of the section and the value is a <tt>list</tt> of the field names. Section names should be in lowerCamelCase notation. The titles on the sections are converted to capitalized words from the section name (e.g. Lower Camel Case). Fields not applicable for a form will not be displayed. Any business application parameters not listed will be put into the <tt>applicationParameters</tt> section. Any CPF parameters not listed will be in the sections shown below. 
       <div> 
        <pre class="prettyprint"><map>
  
    
      inputDataContentType
      inputDataUrl
      inputData
      srid
    
  
  
    
      resultSrid
      resultDataContentType
      format
    
  
  
    
      resultNumAxis
      resultScaleFactorXy
      resultScaleFactorZ
    
  
  
    
      notificationEmail
      notificationUrl
    
  
  
    
      cpfPlug-inTest
      cpfMinExecutionTime
      cpfMeanExecutionTime
      cpfStandardDeviation
      cpfMaxExecutionTime
      cpfMeanNumResults
    
  
</map></pre> 
       </div> Default Form Fields by Section 
       <div> 
        <pre class="prettyprint">
  
    <map>
      
        <map> jobParameter1 </map>
      
      
        <map> jobParameter1 </map>
      
    </map>
  
</pre> 
       </div> Plug-in Form Fields by Section Customization </td> 
     </tr> 
     <tr class="b"> 
      <td><tt>inputDataContentType</tt> or <tt>inputDataFileExtension</tt></td> 
      <td><tt>String</tt></td> 
      <td>The default value shown on forms for Input Data Content Type which is the MIME type or file extension of the input data specified by an inputData or inputDataUrl parameter.</td> 
     </tr> 
     <tr class="a"> 
      <td><tt>srid</tt></td> 
      <td><tt>int</tt></td> 
      <td>The default value shown on forms for Srid which is the EPSG coordinate system code of the source geometry.</td> 
     </tr> 
     <tr class="b"> 
      <td><tt>resultDataContentType</tt> or <tt>resutDataFileExtension</tt></td> 
      <td><tt>String</tt></td> 
      <td>The default value shown on forms for Result Data Content Type which is the MIME type or file extension of the result data specified by an resutData or resutDataUrl parameter.</td> 
     </tr> 
     <tr class="a"> 
      <td><tt>resultSrid</tt></td> 
      <td><tt>int</tt></td> 
      <td>The default value shown on forms for Result Coordinate System which is the EPSG coordinate system code used for the result geometry.</td> 
     </tr> 
     <tr class="b"> 
      <td><tt>resultNumAxis</tt></td> 
      <td><tt>int</tt></td> 
      <td>The default value shown on forms for Result Num Axis which is the number of coordinate axis in the result geometry (e.g. 2 for 2D or 3 for 3D).</td> 
     </tr> 
     <tr class="a"> 
      <td><tt>resultScaleFactorXy</tt></td> 
      <td><tt>double</tt></td> 
      <td>The default value shown on forms for Result Scale Factor Xy which is the scale factor to apply the x, y coordinates. The scale factor is 1 / minimum unit. For example if the minimum unit was 1mm (0.001) the scale factor is 1000 (1 / 0.001).</td> 
     </tr> 
     <tr class="b"> 
      <td><tt>resultScaleFactorZ</tt></td> 
      <td><tt>double</tt></td> 
      <td>The default value shown on forms for Result Scale Factor Z which is the scale factor to apply the z coordinates. The scale factor is 1 / minimum unit. For example if the minimum unit was 1mm (0.001) the scale factor is 1000 (1 / 0.001).</td> 
     </tr> 
    </tbody> 
   </table> 
  </div> 
  <div class="section"> 
   <h4 id="Result_File_Customization_Properties">Result File Customization Properties</h4> 
   <p>The following customization properties are supported.</p> 
   <table border="0" class="bodyTable table table-striped table-hover"> 
    <thead> 
     <tr class="a"> 
      <th>Name</th> 
      <th>Type</th> 
      <th>Description</th> 
     </tr> 
    </thead> 
    <tbody> 
     <tr class="b"> 
      <td><tt>kmlDocumentName</tt></td> 
      <td><tt>String</tt></td> 
      <td>The text to use as the name of the KML Document. <b>NOTE: Don't use on a per result basis.</b></td> 
     </tr> 
     <tr class="a"> 
      <td><tt>kmlDocumentDescription</tt></td> 
      <td><tt>String</tt></td> 
      <td>The text to use as the description of the KML Document. <b>NOTE: Don't use on a per result basis.</b></td> 
     </tr> 
     <tr class="b"> 
      <td><tt>kmlStyle</tt></td> 
      <td><tt>String</tt></td> 
      <td>A list of one or more KML Style tags containing a custom style for the whole document. <b>NOTE: Don't use on a per result basis.</b> External styles should be preferred.</td> 
     </tr> 
     <tr class="a"> 
      <td><tt>kmlPlacemarkDescription</tt></td> 
      <td><tt>String</tt></td> 
      <td>The text to use as the description of the KML Placemark created for each result.</td> 
     </tr> 
     <tr class="b"> 
      <td><tt>kmlPlaceMarkNameAttribute</tt></td> 
      <td><tt>String</tt></td> 
      <td>The name result attribute to use as the Name of the KML Placemark created for each result.</td> 
     </tr> 
     <tr class="a"> 
      <td><tt>kmlSnippet</tt></td> 
      <td><tt>String</tt></td> 
      <td>The text to use as the snippet of the KML Placemark created for each result.</td> 
     </tr> 
     <tr class="b"> 
      <td><tt>kmlStyleUrl</tt></td> 
      <td><tt>String</tt></td> 
      <td>The text to use as the styleUrl of the KML Placemark created for each result.</td> 
     </tr> 
     <tr class="a"> 
      <td><tt>kmlWriteNulls</tt></td> 
      <td><tt>boolean</tt></td> 
      <td>Flag indicating if attributes will null values are to be included in the KML document. By default attributes with null values are NOT included in the extended data. If true then the attribute will be included as a &lt;value xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:nil=&quot;true&quot; /&gt; tag.</td> 
     </tr> 
     <tr class="b"> 
      <td><tt>kmlLookAtRange</tt></td> 
      <td><tt>double</tt></td> 
      <td>The range to include in the look at element. If omitted then it will be calculated from the geometry. The calculation for points always returns 1000.</td> 
     </tr> 
     <tr class="a"> 
      <td><tt>kmlLookAtMinRange</tt></td> 
      <td><tt>double</tt></td> 
      <td>The minimum value for the range to include in the look at element. This value is used if the kmlLookAtRange or calculated range is less than this value.</td> 
     </tr> 
     <tr class="b"> 
      <td><tt>kmlLookAtMaxRange</tt></td> 
      <td><tt>double</tt></td> 
      <td>The maximum value for the range to include in the look at element. This value is used if the kmlLookAtRange or calculated range is greater than this value.</td> 
     </tr> 
    </tbody> 
   </table> 
   <p>See the <a class="externalLink" href="https://developers.google.com/kml/documentation/kmlreference">kml reference guide</a> for details on how to use the KML attributes.</p> 
   <p>Result file customization properties can also be specified on a plug-in class or on the result object for plug-ins that return a list of results. This allows the property to be calculated for each result. For example the <tt>kmlStyleUrl</tt> may vary based on the type of result. The following example show the optional method that must be implemented for plug-ins that wish to define per result configuration properties.</p> 
   <p><b>Example Plug-in Result Customization Properties</b></p> 
   <div class="source"> 
    <div class="source"> 
     <pre>public Map&lt;String,Object&gt; getCustomizationProperties() {
&nbsp;&nbsp;Map&lt;String,Object&gt; properties = new HashMap&lt;&gt;();
&nbsp;&nbsp;properties.put(&quot;propertyName&quot;, &quot;propertyValue&quot;);
  String styleId = &quot;demo&quot;; /** Calculated from some field on object */
&nbsp;&nbsp;properties.put(&quot;kmlStyleUrl&quot;, &quot;http://gov.bc.ca/kmlStyle.kml#&quot; + styleId);
&nbsp;&nbsp;return properties;
}
</pre> 
    </div> 
   </div> 
  </div> 
 </div> 
</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span1 bottom-nav">
					<ul class="nav nav-list">
					</ul>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2008-2015 <a href="http://www.gov.bc.ca/">Province of British Columbia</a>. All Rights Reserved.</p>
				<p class="version-date"><span class="projectVersion">Version: 4.1.4-SNAPSHOT. </span><span class="publishDate">Last Published: 2015-Mar-10. </span></p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="..//js/lightbox.min.js"></script>
	<script src="..//js/reflow-scroll.js"></script>
	<script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>

	<script src="..//js/reflow-skin.js"></script>

	</body>
</html>
